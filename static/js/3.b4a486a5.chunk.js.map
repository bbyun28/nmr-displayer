{"version":3,"sources":["demo/views/Exercise.jsx"],"names":["checkStatus","response","ok","Error","status","statusText","Exercise","props","useState","data","setData","file","title","useEffect","a","async","fetch","json","loadData","then","d","style","height","display","flexDirection","marginLeft","className","width","preferences","panels","hidePeaksPanel","hideInformationPanel","hideRangesPanel","hideStructuresPanel","hideFiltersPanel","backgroundColor","svgMenu","fragment","onChange","molecules","molfile","MolResult","Molecule","fromMolfile","MolResponse","idCodeResult","getIDCode","idCodeResponse","console","log","color","fontSize","mf"],"mappings":"qPAcA,SAASA,EAAYC,GACnB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAJ,eAAkBF,EAASG,OAA3B,cAAuCH,EAASI,aAExD,OAAOJ,EAGM,SAASK,EAASC,GAAQ,IAAD,EACdC,qBADc,mBAC/BC,EAD+B,KACzBC,EADyB,KAE9BC,EAAgBJ,EAAhBI,KAAMC,EAAUL,EAAVK,MA8Cd,OAVAC,qBAAU,WACJF,EArDR,SAAwBA,GAAxB,iBAAAG,EAAAC,OAAA,kEAAAD,EAAA,MACyBE,MAAML,IAD/B,cAEEX,EADMC,EADR,mBAAAa,EAAA,MAGqBb,EAASgB,QAH9B,cAGQR,EAHR,yBAISA,GAJT,qCAsDMS,CAASP,GAAMQ,MAAK,SAACC,GACnBV,EAAQU,MAGVV,EAAQ,MAET,CAACC,EAAMJ,IAGR,yBACEc,MAAO,CACLC,OAAQ,OACRC,QAAS,OACTC,cAAe,SACfC,WAAY,KAGd,wBAAIC,UAAU,SAAd,2DAGA,uBAAGA,UAAU,YAAYd,GACzB,yBAAKS,MAAO,CAAEE,QAAS,OAAQD,OAAQ,QACrC,yBAAKD,MAAO,CAAEM,MAAO,QACnB,kBAAC,IAAD,CACElB,KAAMA,EACNmB,YAAa,CACXC,OAAQ,CACNC,gBAAgB,EAChBC,sBAAsB,EACtBC,iBAAiB,EACjBC,qBAAqB,EACrBC,kBAAkB,OAM1B,yBACEb,MAAO,CACLC,OAAQ,OAERK,MAAO,MACPQ,gBAAiB,YAQnB,kBAAC,IAAD,CACEC,SAAS,EACTC,UAAU,EACVC,SAzFV,SAAqBrC,GACnB,GACEQ,GACAA,EAAK8B,WACL9B,EAAK8B,UAAU,IACf9B,EAAK8B,UAAU,GAAGC,QAClB,CACA,IAAMC,EAAYC,WAASC,YAAYlC,EAAK8B,UAAU,GAAGC,SACnDI,EAAcF,WAASC,YAAY1C,GACnC4C,EAAeJ,EAAUK,YACzBC,EAAiBH,EAAYE,YACnCE,QAAQC,IAAI,CAAEF,iBAAgBF,uBAkF9B,6BACE,kBAAC,IAAD,CAAIxB,MAAO,CAAE6B,MAAO,OAAQC,SAAU,IAAMC,GAAG","file":"static/js/3.b4a486a5.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MF } from 'react-mf';\n\nimport NMRDisplayer from '../../component/NMRDisplayer.jsx';\nimport { StructureEditor } from 'react-ocl/full';\nimport { Molecule } from 'openchemlib';\n\nasync function loadData(file) {\n  const response = await fetch(file);\n  checkStatus(response);\n  const data = await response.json();\n  return data;\n}\n\nfunction checkStatus(response) {\n  if (!response.ok) {\n    throw new Error(`HTTP ${response.status} - ${response.statusText}`);\n  }\n  return response;\n}\n\nexport default function Exercise(props) {\n  const [data, setData] = useState();\n  const { file, title } = props;\n\n  function checkAnswer(response) {\n    if (\n      data &&\n      data.molecules &&\n      data.molecules[0] &&\n      data.molecules[0].molfile\n    ) {\n      const MolResult = Molecule.fromMolfile(data.molecules[0].molfile);\n      const MolResponse = Molecule.fromMolfile(response);\n      const idCodeResult = MolResult.getIDCode();\n      const idCodeResponse = MolResponse.getIDCode();\n      console.log({ idCodeResponse, idCodeResult });\n      if (idCodeResult === idCodeResponse) {\n        // correct answer\n      } else {\n        // wrong answer\n      }\n    }\n  }\n\n  function getMF(data) {\n    let mf = '';\n    if (\n      data &&\n      data.molecules &&\n      data.molecules[0] &&\n      data.molecules[0].molfile\n    ) {\n      const molecule = Molecule.fromMolfile(data.molecules[0].molfile);\n      mf = molecule.getMolecularFormula().formula;\n    }\n    // need to display the MF somehow\n  }\n\n  useEffect(() => {\n    if (file) {\n      loadData(file).then((d) => {\n        setData(d);\n      });\n    } else {\n      setData({});\n    }\n  }, [file, props]);\n\n  return (\n    <div\n      style={{\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n        marginLeft: 30,\n      }}\n    >\n      <h5 className=\"title\">\n        Display and process 1D NMR spectra from a jcamp-dx file\n      </h5>\n      <p className=\"category\">{title}</p>\n      <div style={{ display: 'flex', height: '60%' }}>\n        <div style={{ width: '70%' }}>\n          <NMRDisplayer\n            data={data}\n            preferences={{\n              panels: {\n                hidePeaksPanel: true,\n                hideInformationPanel: true,\n                hideRangesPanel: true,\n                hideStructuresPanel: true,\n                hideFiltersPanel: true,\n              },\n            }}\n          />\n        </div>\n\n        <div\n          style={{\n            height: '100%',\n            // border: '1px dashed black',\n            width: '30%',\n            backgroundColor: '#e9f6ff',\n\n            // flex: '1',\n            // display: 'flex',\n            // justifyContent: 'center',\n            // alignItems: 'center',\n          }}\n        >\n          <StructureEditor\n            svgMenu={true}\n            fragment={false}\n            onChange={checkAnswer}\n          />\n        </div>\n      </div>\n      <div>\n        <MF style={{ color: 'navy', fontSize: 30 }} mf=\"Al2(SO4)3\" />\n      </div>\n    </div>\n  );\n}\n"],"sourceRoot":""}