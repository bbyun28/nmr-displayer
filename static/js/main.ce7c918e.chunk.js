(this["webpackJsonpnmr-displayer"]=this["webpackJsonpnmr-displayer"]||[]).push([[0],{142:function(e,t,n){e.exports=n.p+"static/media/logo-white.eec7c7f6.svg"},160:function(e,t,n){e.exports=n(360)},165:function(e,t,n){},167:function(e,t,n){},168:function(e,t,n){},174:function(e,t,n){},357:function(e){e.exports=JSON.parse('{"peakLabelNumberDecimals":2}')},358:function(e){e.exports=JSON.parse('{"peakLabelNumberDecimals":1}')},360:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(97),o=n.n(i),c=(n(165),n(21)),l=n(38);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(166),n(167),n(168);var u,s=n(16),f=n(18),d=n(35),p=n(34),b=n(36),m=n(69),h=n(362),g=(a.a.Component,n(68)),y=n(67),O=n(363),v=n(142),j=n.n(v),x=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).activeRoute.bind(Object(g.a)(n)),n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"activeRoute",value:function(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}},{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(u=new m.a(this.refs.sidebar,{suppressScrollX:!0,suppressScrollY:!1}))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&u.destroy()}},{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"sidebar","data-color":this.props.backgroundColor},a.a.createElement("div",{className:"logo"},a.a.createElement("a",{className:"simple-text logo-mini"},a.a.createElement("div",{className:"logo-img"},a.a.createElement("img",{src:j.a,alt:"react-logo"}))),a.a.createElement("a",{className:"simple-text logo-normal"},"nmr Team")),a.a.createElement("div",{className:"sidebar-wrapper",ref:"sidebar"},a.a.createElement(O.a,null,this.props.routes.map((function(t,n){return t.redirect?null:a.a.createElement("li",{className:e.activeRoute(t.layout+t.path)+(t.pro?" active active-pro":""),key:n},a.a.createElement(y.a,{to:t.layout+t.path,className:"nav-link",activeClassName:"active",style:{borderRadius:"10px"}},a.a.createElement("i",{className:"now-ui-icons "+t.icon}),a.a.createElement("p",{style:{whiteSpace:"pre-line",paddingLeft:"60px"}},t.name)))})))))}}]),t}(a.a.Component),E=n(3),k=n(366),w=n(367),P=n(368),D=n(369),C=n(370),S=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"panel-header "+(void 0!==this.props.size?"panel-header-"+this.props.size:"")},this.props.content)}}]),t}(a.a.Component),F=n(4),I=n(7),T=n(364),R=n(365),L=n(371),N=n(372),A=n(145),M=(n(174),n(175),a.a.createContext()),_=M.Provider;function z(){return Object(r.useContext)(M)}var V=n(14),U=n(6),B=n(17),Y=n(70);var X=n(100);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){return!(!e.info.isComplex||!e.info.isFid)}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){return!(!e.info.isComplex||e.info.isFid)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){return!(!e.info.isComplex||!e.info.isFid)}var $={absolute:function(e){if(!function(e){return!(!e.info.isComplex||e.info.isFid)}(e))throw new Error("absolute not isApplicable on this data");e.data.re=B.a.absolute(e.data),e.data.im=new Float64Array(0),e.info.isComplex=!1},baselineCorrection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!function(e){return!e.info.isFid}(e))throw new Error("baselineCorrection not isApplicable on this data");var n=t.algorithm,r=void 0===n?"airpls":n;switch(r.toLowerCase()){case"airpls":break;default:throw new Error("baselineCorrection: algorithm unknown: ".concat(r))}},lineBroadening:function(e,t){if(!function(e){return!(!e.info.isComplex||!e.info.isFid)}(e))throw new Error("lineBroadening not isApplicable on this data");for(var n=e.data.re,r=e.data.im,a=e.data.x,i=n.length,o=new Float64Array(i),c=new Float64Array(i),l=(a[i-1]-a[0])/(i-1),u=-t*Math.exp(1),s=Math.exp(u*l),f=Math.exp(u*a[0]),d=0;d<i;d++)o[d]=n[d]*f,c[d]=r[d]*f,f*=s;e.data=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data,{},{re:o,im:c})},fft:function(e){if(!G(e))throw new Error("fft not isApplicable on this data");var t=new Float64Array(e.data.re),n=new Float64Array(e.data.im);X.FFT.init(t.length),X.FFT.fft(t,n),e.data.re=t,e.data.im=n,e.info=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.info,{isFid:!1})},phaseCorrection:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!J(e))throw new Error("phaseCorrection not isApplicable on this data");var n=t.ph0,r=t.ph1,a=t.pivotIndex,i=void 0===a?1:a;n*=Math.PI/180,n-=(r*=Math.PI/180)*i/e.data.x.length,Object.assign(e.data,B.a.phaseCorrection(e.source.original,n,r))},shiftX:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e.data.x=e.data.x.map((function(e){return e+t}))},zeroFilling:function(e,t){if(!Z(e))throw new Error("zeroFilling not isApplicable on this data");for(var n=e.data,r=n.re,a=n.im,i=n.x,o=new Float64Array(t),c=new Float64Array(t),l=new Float64Array(t),u=Math.min(t,r.length),s=0;s<u;s++)o[s]=r[s],c[s]=a[s],l[s]=i[s];for(var f=i[1]-i[0],d=i[u-1],p=u;p<l.length;p++)d+=f,l[p]=d;e.data=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.data,{},{re:o,im:c,x:l})}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.id=t.id||Math.random().toString(36).replace("0.",""),this.source=Object.assign({jcamp:null,jcampURL:null,original:[]},t.source),this.display=Object.assign({name:t.display.name||Math.random().toString(36).replace("0.",""),color:"black",isVisible:!0,isPeaksMarkersVisible:!0,isRealSpectrumVisible:!0},t.display),this.info=Object.assign({nucleus:"1H",isFid:!1,isComplex:!1},t.info),this.originalInfo=Object.assign({nucleus:"1H",isFid:!1,isComplex:!1},t.info),this.meta=Object.assign({},t.meta),this.data=Object.assign({x:[],re:[],im:[]},t.data),this.peaks=Object.assign([],t.peaks),this.integrals=Object.assign([],t.integrals),this.signals=Object.assign([],t.signals),this.filters=Object.assign([],t.filters),this.reapplyFilters()}return Object(f.a)(e,[{key:"setIsRealSpectrumVisible",value:function(e){this.isRealSpectrumVisible=e}},{key:"setPeaks",value:function(e){this.peaks=e}},{key:"getPeaks",value:function(){return this.peaks}},{key:"setIntegrals",value:function(e){this.integrals=Object.assign([],e)}},{key:"getIntegrals",value:function(){return this.integrals}},{key:"baseline",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"applyAutoPeakPicking",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]}},{key:"applyShiftXFilter",value:function(e){var t={kind:$.shiftX.name,value:e};this.addFilter(t),$.shiftX(this,e)}},{key:"lookupForFilter",value:function(e){return this.filters.find((function(t){return t.kind===e}))}},{key:"applyZeroFillingFilter",value:function(e){var t,n,r={kind:$.zeroFilling.name,value:e.zeroFillingSize},a={kind:$.lineBroadening.name,value:e.lineBroadeningValue},i=this.lookupForFilter(r.kind),o=this.lookupForFilter(a.kind);if(i){var c=(t=i.value,n=r.value,{once:!0,reduce:t+n});c.once&&(r.value=c.reduce,this.replaceFilter(i.id,r.value))}else this.addFilter(r);if(o){var l=function(e,t){return{once:!0,reduce:e+t}}(o.value,a.value);l.once&&(a.value=l.reduce,this.replaceFilter(o.id,a.value))}else this.addFilter(a);o&&i?this.reapplyFilters():($.zeroFilling(this,e.zeroFillingSize),$.lineBroadening(this,e.lineBroadeningValue))}},{key:"applyFFTFilter",value:function(){var e={kind:$.fft.name,value:""};this.addFilter(e),$.fft(this)}},{key:"applyManualPhaseCorrectionFilter",value:function(e){$.phaseCorrection(this,e)}},{key:"reapplyFilters",value:function(){for(var e=0;e<this.filters.length;e++)this.enableFilter(this.filters[e].id,this.filters[e].flag)}},{key:"enableFilter",value:function(e,t){this.filters=Object(V.a)(this.filters);var n=this.filters.findIndex((function(t){return t.id===e}));this.filters[n]=Q({},this.filters[n],{flag:t});var r=this.filters.filter((function(e){return!0===e.flag}));this.data=Q({},this.data,{},this.source.original),this.info=Q({},this.info,{},this.originalInfo);var a=!0,i=!1,o=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;u.flag&&$[u.kind](this,u.value)}}catch(s){i=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}}},{key:"deleteFilter",value:function(e){this.filters=Object(V.a)(this.filters),this.filters=this.filters.filter((function(t){return t.id!==e})),this.data=Q({},this.data,{},this.source.original),this.info=Q({},this.info,{},this.originalInfo);var t=!0,n=!1,r=void 0;try{for(var a,i=this.filters[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var o=a.value;o.flag&&$[o.kind](this,o.value)}}catch(c){n=!0,r=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw r}}}},{key:"getReal",value:function(){return{x:this.data.x,y:this.data.re}}},{key:"getImaginary",value:function(){return{x:this.data.x,y:this.data.im}}},{key:"addIntegral",value:function(e,t){}},{key:"lookupPeak",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=this.data.x.findIndex((function(t){return t>=e})),r=this.data.x.findIndex((function(e){return e>=t}))-1;n>r&&(r=n=r);var a=this.data.re.slice(n,r);if(a&&a.length>0){var i=Object(Y.a)(a),o=a.findIndex((function(e){return e===i})),c=this.data.x[n+o];return{x:c,y:i,xIndex:n+o}}return[]}},{key:"addPeak",value:function(e){this.peaks=Object.assign([],this.peaks),this.peaks.push(e)}},{key:"addPeaks",value:function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e!==t){this.peaks=Object.assign([],this.peaks);var n=this.lookupPeak(e,t);this.peaks=this.peaks.concat([n])}return this.peaks}},{key:"autoPeakPicking",value:function(){}},{key:"addFilter",value:function(e){var t=Math.random().toString(36).replace("0.","");console.log(e),this.filters=Object.assign([],this.filters),this.filters.push(Q({},e,{id:t,flag:!0}))}},{key:"replaceFilter",value:function(e,t){this.filters=Object.assign([],this.filters);var n=this.filters.findIndex((function(t){return t.id===e}));this.filters[n]=Q({},this.filters[n],{value:t})}},{key:"getFilters",value:function(){return this.filters}},{key:"toJSON",value:function(){return{data:this.data,id:this.id,source:{jcamp:this.source.jcamp,jcampURL:this.source.jcampURL,original:this.source.jcampURL?[]:this.source.original},display:this.display,info:this.originalInfo,meta:this.meta,peaks:this.peaks,integrals:this.integrals,signals:this.signals,filters:this.filters}}}]),e}(),te=n(15),ne=n.n(te),re=n(42),ae=n(71);function ie(e){var t,n={dimension:1,nucleus:[],isFid:!1,isFt:!1,isComplex:!1};if(oe(n,"title",e.TITLE),oe(n,"solvent",e[".SOLVENTNAME"]),oe(n,"pulse",e[".PULSESEQUENCE"]||e[".PULPROG"]||e.$PULPROG),oe(n,"experiment",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===e&&(e={}),"string"===typeof e&&(e={pulse:e});var n=(Array.isArray(t.$SPECTYP)?t.$SPECTYP[0]:t.$SPECTYP||"").replace(/^<(.*)>$/,"$1").toLowerCase();if(n)return n;var r=e.pulse;return"string"!==typeof r?"":(r=r.toLowerCase()).includes("zg")?"1d":r.includes("hsqct")||r.includes("invi")&&(r.includes("ml")||r.includes("di"))?"hsqctocsy":r.includes("hsqc")||r.includes("invi")?"hsqc":r.includes("hmbc")||r.includes("inv4")&&r.includes("lp")?"hmbc":r.includes("cosy")?"cosy":r.includes("jres")?"jres":r.includes("tocsy")||r.includes("mlev")||r.includes("dipsi")?"tocsy":r.includes("noesy")?"noesy":r.includes("roesy")?"roesy":r.includes("dept")?"dept":r.includes("jmod")||r.includes("apt")?"aptjmod":""}(n,e)),oe(n,"temperature",parseFloat(e.$TE||e[".TE"])),oe(n,"frequency",parseFloat(e[".OBSERVEFREQUENCY"])),oe(n,"type",e.DATATYPE),oe(n,"probe",e.$PROBHD),void 0!==e.$FNTYPE&&oe(n,"acquisitionMode",parseInt(e.$FNTYPE)),oe(n,"expno",parseInt(e.$EXPNO)),n.type&&(n.type.toUpperCase().indexOf("FID")>=0?n.isFid=!0:n.type.toUpperCase().indexOf("SPECTRUM")>=0&&(n.isFt=!0)),e[".NUCLEUS"]?n.nucleus=e[".NUCLEUS"].split(",").map((function(e){return e.trim()})):e[".OBSERVENUCLEUS"]?n.nucleus=[e[".OBSERVENUCLEUS"].replace(/[^A-Za-z0-9]/g,"")]:n.nucleus="string"!==typeof(t=n.experiment)?[]:(t=t.toLowerCase()).includes("jres")?["1H"]:t.includes("hmbc")||t.includes("hsqc")?["1H","13C"]:["1H","1H"],n.dimension=n.nucleus.length,e.SYMBOL){var r=e.SYMBOL.split(/[, ]+/);r.includes("R")&&r.includes("I")&&(n.isComplex=!0)}return e.$DATE&&(n.date=new Date(1e3*e.$DATE).toISOString()),n}function oe(e,t,n){void 0!==n&&("string"===typeof n?(n.startsWith("<")&&n.endsWith(">")&&(n=n.substring(1,n.length-2)),e[t]=n.trim()):e[t]=n)}function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){function e(){Object(s.a)(this,e)}return Object(f.a)(e,null,[{key:"checkStatus",value:function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}}]),e}();ue.fromJSON=function(){var e=Object(re.a)(ne.a.mark((function e(){var t,n,r,a,i,o,c,l=arguments;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l.length>0&&void 0!==l[0]?l[0]:[],n=[],r=0;case 3:if(!(r<t.length)){e.next=23;break}if(null==(a=t[r]).source.jcamp){e.next=10;break}i=ue.fromJcamp(a.source.jcamp,a),n.push(i),e.next=20;break;case 10:if(null==a.source.jcampURL){e.next=18;break}return e.next=13,ue.loadFileFromURL(a.source.jcampURL);case 13:o=e.sent,c=ue.fromJcamp(o,a),n.push(c),e.next=20;break;case 18:console.log(a.source.original),n.push(new ee(le({},a,{data:a.source.original})));case 20:r++,e.next=3;break;case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue.loadFileFromURL=function(){var e=Object(re.a)(ne.a.mark((function e(t){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t).then((function(e){return ue.checkStatus(e)&&e.text()})).catch((function(e){console.error(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue.fromJcamp=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(ae.convert)(e,{xy:!0,keepRecordsRegExp:/.*/}),r=n.spectra[0]&&n.spectra[0].data&&n.spectra[0].data[0]&&n.spectra[0].data[0].x?n.spectra[0].data[0].x:[],a=n.spectra[0]&&n.spectra[0].data&&n.spectra[0].data[0]&&n.spectra[0].data[0].y?n.spectra[0].data[0].y:[],i=n.spectra[1]&&n.spectra[1].data&&n.spectra[1].data[0]&&n.spectra[1].data[0].y?n.spectra[1].data[0].y:new Array(a.length),o=i?B.b.sortX({x:r,re:a,im:i}):B.c.sortX({x:r,re:a});console.log(n.info);var c=ie(n.info);Array.isArray(c.nucleus)&&(c.nucleus=c.nucleus[0]);var l=new ee(le({},t,{info:c,meta:n.info,data:o,source:{jcamp:null,jcampURL:null,original:o}}));return l};var se=["#FFB300","#803E75","#FF6800","#A6BDD7","#C10020","#CEA262","#817066","#007D34","#F6768E","#00538A","#FF7A5C","#53377A","#FF8E00","#B32851","#F4C800","#7F180D","#93AA00","#593315","#F13A13","#232C16"],fe=function(e){var t=se.filter((function(t){return!e.includes(t)}));if(t.length>0)return t[0];var n=String("#".concat(Math.random().toString(16).slice(2,8).toUpperCase())).replace(/[^0-9a-f]/gi,"");n.length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]);var r,a,i="#";for(a=0;a<3;a++)r=parseInt(n.substr(2*a,2),16),r=Math.round(Math.min(Math.max(0,r+-.25*r),255)).toString(16),i+="00".concat(r).substr(r.length);return i},de=n(53),pe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(s.a)(this,e),this.key=t.key||Math.random().toString(36).replace("0.",""),this.molfile=t.molfile||"",this.svg=t.svg||"",this.mf=t.mf||0,this.em=t.em||0,this.mw=t.mw||0}return Object(f.a)(e,[{key:"toJSON",value:function(){return{molfile:this.molfile}}}]),e}(),be=function e(){Object(s.a)(this,e)};function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}be.fromJSON=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[],n=0;n<e.length;n++){var r=de.Molecule.fromMolfile(e[n].molfile),a=r.getFragments(),i=!0,o=!1,c=void 0;try{for(var l,u=a[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var s=l.value;t.push(new pe({molfile:s.toMolfileV3(),svg:s.toSVG(50,50),mf:s.getMolecularFormula().formula,em:s.getMolecularFormula().absoluteWeight,mw:s.getMolecularFormula().relativeWeight}))}}catch(f){o=!0,c=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw c}}}return t};var ge=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(s.a)(this,e),this.data1d=[],this.molecules=[],this.data1d=Object.assign([],t),this.data2d=[],this.molecules=Object.assign([],n),this.preferences={display:{}}}return Object(f.a)(e,[{key:"addJcampFromURL",value:function(){var e=Object(re.a)(ne.a.mark((function e(t,n,r){var a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(n).then((function(e){return e.text()}));case 2:a=e.sent,this.addJcamp(t,a,r);case 4:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"addBruker",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1]}},{key:"addJcamp",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(ae.convert)(e,{withoutXY:!0,keepRecordsRegExp:/.*/}),r=ie(n.info);1===r.dimension&&this.data1d.push(ue.fromJcamp(e,t))}},{key:"addMolfileFromURL",value:function(){var e=Object(re.a)(ne.a.mark((function e(t){var n;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then((function(e){return e.text()}));case 2:n=e.sent,this.addMolfile(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getMolecules",value:function(){return this.molecules}},{key:"removeMolecule",value:function(e){this.molecules.splice(e,1)}},{key:"addMolfile",value:function(e){var t=de.Molecule.fromMolfile(e).getFragments();this.molecules=Object.assign([],this.molecules);var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;console.log(this.molecules),this.molecules.push(new pe({molfile:c.toMolfileV3(),svg:c.toSVG(150,150),mf:c.getMolecularFormula().formula,em:c.getMolecularFormula().absoluteWeight,mw:c.getMolecularFormula().relativeWeight}))}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}}},{key:"setMolecules",value:function(e){this.molecules=e}},{key:"setMolfile",value:function(e,t){var n=de.Molecule.fromMolfile(e).getFragments();this.molecules=this.molecules.filter((function(e){return e.key!==t}));var r=!0,a=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;this.molecules.push(new pe({molfile:l.toMolfileV3(),svg:l.toSVG(150,150),mf:l.getMolecularFormula().formula,em:l.getMolecularFormula().absoluteWeight,mw:l.getMolecularFormula().relativeWeight}))}}catch(u){a=!0,i=u}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return this.molecules}},{key:"toJSON",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this.data1d.map((function(e){return he({},e.toJSON(),{data:{}})})),t=this.molecules.map((function(e){return e.toJSON()}));return{data1d:e,molecules:t}}},{key:"pushDatum1D",value:function(e){this.data1d.push(e)}},{key:"getDatum1D",value:function(e){return this.data1d.find((function(t){return t.id===e}))}},{key:"getData1d",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.data1d?this.data1d.map((function(t){return{id:t.id,x:t.data.x,y:e?t.data.re:t.data.im,im:t.data.im,name:t.display.name,color:t.display.color,isVisible:t.display.isVisible,isPeaksMarkersVisible:t.display.isPeaksMarkersVisible,isRealSpectrumVisible:t.display.isRealSpectrumVisible,info:t.info,meta:t.meta,peaks:t.peaks,integrals:t.integrals,filters:t.filters}})):[]}},{key:"deleteDatum1DByID",value:function(e){var t=this.data1d.filter((function(t){return t.id!==e}));this.data1d=t.length>0?t:null}}],[{key:"build",value:function(){var t=Object(re.a)(ne.a.mark((function t(){var n,r,a,i,o=arguments;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:{},t.next=3,ue.fromJSON(n.data1d);case 3:return r=t.sent,a=n.data1d?r:[],i=n.molecules?be.fromJSON(n.molecules):[],t.abrupt("return",new e(a,i));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()}]),e}();ge.prototype.fromNMReData=function(e){};var ye={zoom:{id:"zoom",label:"Zoom"},peakPicking:{id:"peakPicking",label:"Peak Tool"},integral:{id:"integral",label:"integral Tool"},HMove:{id:"HMove",label:"move spectrum horizontal"},equalizerTool:{id:"equalizerTool",label:"Equalizer Tool"}},Oe="ADD_PEAK",ve="ADD_PEAKS",je="SET_DIMENSIONS",xe="ADD_INTEGRAL",Ee="SET_ZOOM_FACTOR",ke="BRUSH_END",we="RESET_X_DOMAIN",Pe="CHANGE_INTEGRAL_ZOOM",De="SET_VERTICAL_INDICATOR_X_POSITION";function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fe=new ge;function Ie(e){var t=e.reduce((function(e,t){return e.concat([t.x[0],t.x[t.x.length-1]])}),[]),n=[],r=e.reduce((function(e,t,r){var a=I.c(t.y);return n[r]=a,e.concat(a)}),[]);return{x:I.c(t),y:I.c(r),yDomains:n}}var Te=function(e){var t=e.xDomain,n=e.yDomain,r=e.width,a=e.height,i=e.margin,o="RTL"===e.mode?[r-i.right,i.left]:[i.left,r-i.right];return{x:I.e(t,o),y:I.e(n,[a-i.bottom,i.top])}},Re=function(e,t){return Object(U.b)(e,(function(n){if(e.activeSpectrum){var r=e.activeSpectrum.id,a=e.data.findIndex((function(e){return e.id===r})),i=function(e,t,n){var r=Te(n),a=n.activeSpectrum,i=r.x.invert(t.x-e),o=r.x.invert(t.x+e),c=[];return i>o?(c[0]=o,c[1]=i):(c[0]=i,c[1]=o),Fe.getDatum1D(a.id).lookupPeak(c[0],c[1])}(10,t,e);if(-1!==a){var o={xIndex:i.xIndex};e.data[a].peaks?n.data[a].peaks.push(o):n.data[a].peaks=[o],Fe.getDatum1D(r).addPeak(o)}}}))},Le=function(e,t){return console.log(t),Object(U.b)(e,(function(n){var r,a=e.originDomain,i=e.height,o=e.margin,c=e.data,l=e.yDomains,u=e.activeSpectrum,s=I.e(a.y,[i-o.bottom,o.top]);if(1===c.length){var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.reduce((function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e}));return n}(c[0].y),d=Te(e).y(f);r=I.g.translate(0,d).scale(t.scale).translate(0,-d)}else r=I.g.translate(0,i-o.bottom).scale(t.scale).translate(0,-(i-o.bottom));n.zoomFactor=r;var p=r.rescaleY(s).domain();if(null===u){var b=l.map((function(e){return[e[0]+(p[0]-e[0]),e[1]+(p[1]-e[1])]}));n.yDomains=b}else{var m=c.findIndex((function(e){return e.id===u.id})),h=Object(V.a)(e.yDomains);h[m]=p,n.yDomains=h}console.log(l)}))};function Ne(e){e.mode=e.data&&e.data[0]&&e.data[0].info.isFid?"LTR":"RTL"}function Ae(e){var t=Ie(e.data);e.xDomain=t.x,e.yDomain=t.y,e.originDomain=t,e.yDomains=t.yDomains,e.data=e.data.map((function(e){return Se({},e,{integralsYDomain:t.y})}))}var Me={data:null,tempData:null,xDomain:[],yDomain:[],yDomains:[],originDomain:{},selectedTool:ye.zoom.id,selectedFilter:null,width:null,height:null,margin:{top:10,right:20,bottom:30,left:0},activeSpectrum:null,mode:"RTL",zoomFactor:null,molecules:[],verticalAlign:0,history:{past:[],present:null,future:[],hasUndo:!1,hasRedo:!1},verticalIndicatorPosition:0},_e=function(e,t){switch(t.type){case"INITIATE":return function(e,t){return Object(U.b)(e,(function(e){var n=Ie((Fe=t.AnalysisObj).getData1d());e.data=Fe.getData1d(),e.molecules=Fe.getMolecules(),e.xDomain=n.x,e.yDomain=n.y,e.originDomain=n,e.yDomains=n.yDomains,Ne(e)}))}(e,t.data);case"LOAD_JSON_FILE":return function(e,t){return Object(U.b)(e,(function(e){(Fe=t.AnalysisObj).getData1d().info.isFid=!1,e.data=Fe.getData1d(),e.molecules=Fe.getMolecules(),Ae(e),Ne(e)}))}(e,t.data);case"LOAD_JCAMP_FILE":return function(e,t){return Object(U.b)(e,(function(e){for(var n=e.data.map((function(e){return e.color})),r=t.length,a=0;a<r;a++){var i=fe(n),o=ue.fromJcamp(t[a].binary.toString(),{display:{name:t[a].name,color:i,isVisible:!0,isPeaksMarkersVisible:!0}});n.push(i),Fe.pushDatum1D(o)}e.data=Fe.getData1d(),Ae(e),Ne(e)}))}(e,t.files);case"LOAD_MOL_FILE":return function(e,t){return Object(U.b)(e,(function(e){for(var n=t.length,r=0;r<n;r++)Fe.addMolfile(t[r].binary.toString());e.molecules=Fe.getMolecules()}))}(e,t.files);case"SAVE_DATA_AS_JSON":return function(e){var t=Fe.toJSON(),n=JSON.stringify(t,void 0,2),r=new Blob([n],{type:"text/plain"}),a=URL.createObjectURL(r),i=document.createElement("a");return i.download="experiment.json",i.href=a,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),e}(e);case Oe:return Re(e,t.mouseCoordinates);case ve:return function(e,t){return Object(U.b)(e,(function(n){if(e.activeSpectrum){var r=e.activeSpectrum.id,a=e.data.findIndex((function(e){return e.id===r})),i=Te(e),o=i.x.invert(t.startX),c=i.x.invert(t.endX),l=[];if(o>c?(l[0]=c,l[1]=o):(l[0]=o,l[1]=c),-1!==a){var u=Fe.getDatum1D(r).addPeaks(l[0],l[1]);n.data[a].peaks=u}}}))}(e,t);case"DELETE_PEAK_NOTATION":return function(e,t){return Object(U.b)(e,(function(n){var r=e.activeSpectrum.id,a=n.data.findIndex((function(e){return e.id===r}));n.data[a].peaks=n.data[a].peaks.filter((function(e){return e.xIndex!==t.xIndex})),Fe.getDatum1D(r).setPeaks(n.data[a].peaks)}))}(e,t.data);case xe:return function(e,t){var n=Te(e).x;return Object(U.b)(e,(function(r){var a,i=n.invert(t.startX),o=n.invert(t.endX);if(a=i>o?[o,i]:[i,o],r.activeSpectrum){var c=e.data.findIndex((function(t){return t.id===e.activeSpectrum.id})),l=e.data[c],u=B.c.integral(l,{from:a[0],to:a[1],reverse:!0}),s=B.c.integration(l,{from:a[0],to:a[1],reverse:!0}),f=Se({from:a[0],to:a[1]},u,{value:s,id:e.activeSpectrum.id+Math.random().toString(36).replace("0.","")});if(-1!==c){var d=Object.assign([],Object(U.a)(r.data[c].integrals));l.integrals?d.push(f):d=[f],r.data[c].integrals=d,l.integralsYDomain||(r.data[c].integralsYDomain=r.yDomain),Fe.getDatum1D(e.activeSpectrum.id).setIntegrals(d)}}}))}(e,t);case"DELETE_INTEGRAL":return function(e,t){var n=t.integralID,r=t.spectrumID;return Object(U.b)(e,(function(t){var a=e.data.findIndex((function(e){return e.id===r}));t.data[a].integrals=e.data[a].integrals.filter((function(e){return e.id!==n}))}))}(e,t);case"RESIZE_INTEGRAL":return function(e,t){return Object(U.b)(e,(function(n){if(n.activeSpectrum){var r=e.data.findIndex((function(t){return t.id===e.activeSpectrum.id})),a=e.data[r],i=B.c.integral(a,{from:t.from,to:t.to,reverse:!0}),o=B.c.integration(a,{from:t.from,to:t.to,reverse:!0}),c=Se({},t,{},i,{value:o});if(-1!==r&&a.integrals){var l=a.integrals.findIndex((function(e){return e.id===t.id}));n.data[r].integrals[l]=Se({},e.data[r].integrals[l],{},c),Fe.getDatum1D(e.activeSpectrum.id).setIntegrals(n.data[r].integrals[l])}}}))}(e,t.integral);case"SET_ORIGINAL_DOMAIN":return function(e,t){return Object(U.b)(e,(function(e){e.originDomain=t}))}(e,t.domain);case"SET_X_DOMAIN":return function(e,t){return Object(U.b)(e,(function(e){e.xDomain=t}))}(e,t.xDomain);case"SET_Y_DOMAIN":return function(e,t){if(null===e.activeSpectrum){var n=e.yDomains.map((function(e){return[e[0]+(t[0]-e[0]),e[1]+(t[1]-e[1])]}));return Se({},e,{yDomain:t,yDomains:n})}var r=e.data.findIndex((function(t){return t.id===e.activeSpectrum.id})),a=Object(V.a)(e.yDomains);return a[r]=t,Se({},e,{yDomains:a})}(e,t.yDomain);case"SET_WIDTH":return function(e,t){return Se({},e,{width:t})}(e,t.width);case je:return function(e,t,n){return Se({},e,{width:t,height:n})}(e,t.width,t.height);case"SET_POINTER_COORDINATES":return function(e,t){return Se({},e,{pointerCoordinates:t})}(e,t.pointerCoordinates);case"SET_SELECTED_TOOL":return function(e,t){return Se({},e,{selectedTool:t})}(e,t.selectedTool);case"SET_SELECTED_FILTER":return function(e,t){return Object(U.b)(e,(function(n){n.verticalIndicatorPosition=e.width/2,n.tempData=e.data,t===$.phaseCorrection.name?n.selectedTool=ye.equalizerTool.id:n.selectedTool===ye.equalizerTool.id&&(n.selectedTool=null),n.selectedFilter=t}))}(e,t.selectedFilter);case"SET_DATA":return function(e,t){return Object(U.b)(e,(function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;Fe.pushDatum1D(new ee(c))}}catch(l){r=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}e.data=Fe.getData1d(),e.molecules=Fe.getMolecules(),Ae(e),Ne(e)}))}(e,t.data);case"FULL_ZOOM_OUT":return function(e){return Object(U.b)(e,(function(t){t.xDomain=e.originDomain.x,t.yDomain=e.originDomain.y}))}(e);case"SHIFT_SPECTRUM":return function(e,t){return Object(U.b)(e,(function(n){var r=e.activeSpectrum.id,a=Fe.getDatum1D(r);a.applyShiftXFilter(t);var i=a.getReal(),o=n.data.findIndex((function(e){return e.id===r}));n.data[o].x=i.x,n.data[o].y=i.y,n.data[o].filters=a.getFilters(),Ae(n)}))}(e,t.shiftValue);case"APPLY_ZERO_FILLING_FILTER":return function(e,t){return Object(U.b)(e,(function(n){var r=e.activeSpectrum.id,a=Fe.getDatum1D(r);a.applyZeroFillingFilter(t);var i=a.getReal(),o=n.data.findIndex((function(e){return e.id===r}));n.data[o].x=i.x,n.data[o].y=i.y,n.data[o].filters=a.getFilters(),n.tempData=null,Ae(n)}))}(e,t.value);case"APPLY_FFT_FILTER":return function(e){return Object(U.b)(e,(function(t){var n=e.activeSpectrum.id,r=Fe.getDatum1D(n);r.applyFFTFilter();var a=r.getReal(),i=t.data.findIndex((function(e){return e.id===n}));t.data[i].x=a.x,t.data[i].y=a.y,t.data[i].filters=r.getFilters(),t.data[i].info.isFid=r.info.isFid,t.tempData=null,Ae(t),Ne(t)}))}(e);case"APPLY_MANUAL_PHASE_CORRECTION_FILTER":return function(e,t){return Object(U.b)(e,(function(n){var r={kind:$.phaseCorrection.name,value:t},a=e.activeSpectrum.id,i=Fe.getDatum1D(a);i.addFilter(r);var o=e.tempData.findIndex((function(e){return e.id===a}));n.data[o].x=e.tempData[o].x,n.data[o].y=e.tempData[o].y,n.data[o].filters=i.getFilters(),n.tempData=null,Ae(n)}))}(e,t.value);case"CALCULATE_MANUAL_PHASE_CORRECTION_FILTER":return function(e,t){return Object(U.b)(e,(function(n){var r=e.activeSpectrum.id,a=Fe.getDatum1D(r);a.applyManualPhaseCorrectionFilter(t);var i=a.getReal(),o=n.data.findIndex((function(e){return e.id===r}));n.data[o].x=i.x,n.data[o].y=i.y,Ae(n)}))}(e,t.value);case"ENABLE_FILTER":return function(e,t,n){return Object(U.b)(e,(function(r){var a=e.activeSpectrum.id,i=Fe.getDatum1D(a);i.enableFilter(t,n);var o=i.getReal(),c=e.data.findIndex((function(e){return e.id===a}));r.data[c].x=o.x,r.data[c].y=o.y,r.data[c].filters=i.getFilters(),r.data[c].info.isFid=i.info.isFid,Ae(r),Ne(r)}))}(e,t.id,t.checked);case"DELETE_FILTER":return function(e,t){return Object(U.b)(e,(function(n){var r=e.activeSpectrum.id,a=Fe.getDatum1D(r);a.deleteFilter(t);var i=a.getReal(),o=e.data.findIndex((function(e){return e.id===r}));n.data[o].x=i.x,n.data[o].y=i.y,n.data[o].filters=a.getFilters(),n.data[o].info.isFid=a.info.isFid,Ae(n),Ne(n)}))}(e,t.id);case"CHANGE_VISIBILITY":return function(e,t){return Object(U.b)(e,(function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=function(){var e=i.value;t.some((function(t){return t.id===e.id}))?e.isVisible=!0:e.isVisible=!1},c=e.data[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)o()}catch(l){r=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}}))}(e,t.data);case"CHANGE_PEAKS_MARKERS_VISIBILITY":return function(e,t){return Object(U.b)(e,(function(e){var n=!0,r=!1,a=void 0;try{for(var i,o=function(){var e=i.value;t.some((function(t){return t.id===e.id}))?(Fe.getDatum1D(e.id).isPeaksMarkersVisible=!0,e.isPeaksMarkersVisible=!0):(Fe.getDatum1D(e.id).isPeaksMarkersVisible=!1,e.isPeaksMarkersVisible=!1)},c=e.data[Symbol.iterator]();!(n=(i=c.next()).done);n=!0)o()}catch(l){r=!0,a=l}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}}))}(e,t.data);case"CHANGE_ACTIVE_SPECTRUM":return function(e,t){return Object(U.b)(e,(function(e){if(t){Fe.getDatum1D(t.id).isVisible=!0;var n=e.data.findIndex((function(e){return e.id===t.id}));-1!==n&&(e.data[n].isVisible=!0)}e.activeSpectrum=t}))}(e,t.data);case"CHANGE_SPECTRUM_COLOR":return function(e,t){var n=t.id,r=t.color;return Object(U.b)(e,(function(e){var t=e.data.findIndex((function(e){return e.id===n}));-1!==t&&(e.data[t].color=r,Fe.getDatum1D(n).display.color=r)}))}(e,t.data);case"TOGGLE_REAL_IMAGINARY_VISIBILITY":return function(e){return Object(U.b)(e,(function(t){if(null!==e.activeSpectrum){var n=e.activeSpectrum.id,r=Fe.getDatum1D(n);if(r){var a=r.getReal().y,i=r.getImaginary().y,o=e.data.findIndex((function(e){return e.id===n}));if(r.setIsRealSpectrumVisible(!t.data[o]),t.data[o].isRealSpectrumVisible=!t.data[o].isRealSpectrumVisible,r.setIsRealSpectrumVisible(),t.data[o].isRealSpectrumVisible){if(null!==a&&void 0!==a){t.data[o].y=a;var c=Ie(t.data);t.xDomain=c.x,t.yDomain=c.y,t.yDomains=c.yDomains}}else if(null!==i&&void 0!==i){t.data[o].y=i;var l=Ie(t.data);t.xDomain=l.x,t.yDomain=l.y,t.yDomains=l.yDomains}}}}))}(e);case Ee:return Le(e,t.zoomFactor);case"CHANGE_SPECTRUM_DIPSLAY_VIEW_MODE":return function(e){return Object(U.b)(e,(function(e){e.verticalAlign=0!==e.verticalAlign?0:Math.floor(-e.height/(e.data.length+2))}))}(e);case"ADD_MOLECULE":return function(e,t){return Fe.addMolfile(t),Object(U.b)(e,(function(e){e.molecules=Fe.getMolecules()}))}(e,t.molfile);case"SET_MOLECULE":return function(e,t,n){return Object(U.b)(e,(function(e){e.molecules=Fe.setMolfile(t,n)}))}(e,t.molfile,t.key);case"DELETE_MOLECULE":return function(e,t){return Object(U.b)(e,(function(e){var n=e.molecules.findIndex((function(e){return e.key===t}));-1!==n&&e.molecules.splice(n,1)}))}(e,t.key);case"DELETE_SPECTRA":return function(e){return Object(U.b)(e,(function(e){var t=e.activeSpectrum;t&&t.id&&(Fe.deleteDatum1DByID(t.id),e.data=Fe.getData1d(),Ae(e),Ne(e))}))}(e);case"SET_INTEGRAL_Y_DOMAIN":return function(e,t){return Object(U.b)(e,(function(e){var n=e.activeSpectrum;if(n){var r=e.data.findIndex((function(e){return e.id===n.id}));e.data[r].integralsYDomain=t}}))}(e,t.yDomain);case Pe:return function(e,t){return Object(U.b)(e,(function(n){var r=e.originDomain,a=e.height,i=e.margin,o=I.e(r.y,[a-i.bottom,i.top]),c=I.g.translate(0,a-i.bottom).scale(10*t.scale).translate(0,-(a-i.bottom)),l=c.rescaleY(o).domain(),u=n.activeSpectrum;if(u){var s=n.data.findIndex((function(e){return e.id===u.id}));n.zoomFactor=c,n.data[s].integralsYDomain=l}}))}(e,t.zoomFactor);case ke:return function(e,t){var n=Te(e).x;return Object(U.b)(e,(function(e){var r=n.invert(t.startX),a=n.invert(t.endX);e.xDomain=r>a?[a,r]:[r,a]}))}(e,t);case De:return function(e,t){return Object(U.b)(e,(function(e){e.verticalIndicatorPosition=t}))}(e,t.position);case we:return function(e){return Object(U.b)(e,(function(t){t.xDomain=e.originDomain.x,t.yDomain=e.originDomain.y}))}(e);case"undo":return function(e){var t=e.history,n=t.past,r=t.present,a=t.future,i=n[n.length-1],o=n.slice(0,n.length-1),c=[r].concat(Object(V.a)(a)),l=0!==c.length,u=0!==n.length;Fe.undoFilter(n);var s=Fe.getData1d(),f=Ie(s),d={past:o,present:i,future:c,hasRedo:l,hasUndo:u};return Se({},e,{data:s,xDomain:f.x,yDomain:f.y,originDomain:f,history:d})}(e);case"redo":return function(e){return Object(U.b)(e,(function(e){var t=e.history,n=t.future[0],r=t.future.shift();t.past.push(t.present),t.present=r,t.hasUndo=!0,t.hasRedo=t.future.length>0,Fe.redoFilter(n),e.data=Fe.getData1d(),Ae(e)}))}(e);case"reset":return function(e,t){return Object(U.b)(e,(function(e){e.history={past:[],present:t,future:[],hasRedo:!1,hasUndo:!1}}))}(e,t);default:return e}},ze=Object(r.createContext)(),Ve=ze.Provider;function Ue(){return Object(r.useContext)(ze)}var Be=n(10),Ye=n(154),Xe=n(9),He=n(2);function Ge(){var e=Object(Be.a)(["\n  border: 0.55px #e6e6e6 solid;\n  display: flex;\n"]);return Ge=function(){return e},e}function We(){var e=Object(Be.a)(["\n  height: 100%;\n  background-color: #b5b5b599;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-flow: column;\n  z-index: 99999;\n\n  p {\n    color: white;\n    background-color: rgb(104, 104, 104);\n    padding: 1.5%;\n    border-radius: 30px;\n    margin: 0px;\n  }\n\n  svg {\n    stroke-width: 0;\n    font-size: 3rem !important;\n    fill: white;\n  }\n"]);return We=function(){return e},e}function Je(e){return e.name.substr(e.name.lastIndexOf("."),e.name.length).toLowerCase()}function qe(e){return Promise.all([].map.call(e,(function(e){return new Promise((function(t,n){var r=new FileReader;r.onabort=function(e){return n(e)},r.onerror=function(e){return n(e)},r.onload=function(){if(r.result){var n=r.result,a=function(e){return e.name.substr(0,e.name.lastIndexOf("."))}(e),i=Je(e);t({binary:n,name:a,extension:i})}},r.readAsBinaryString(e)}))})))}var Ze=Object(He.css)(We()),$e=Object(He.css)(Ge()),Ke=function(e){var t=z(),n=t.width,a=t.height,i=Ue(),o=Object(r.useCallback)((function(e){var t=Object(V.a)(new Set(e.map((function(e){return Je(e)})))),n=!0,r=!1,a=void 0;try{for(var o,c=function(){var t=o.value,n=e.filter((function(e){return Je(e)===t}));switch(t){case".mol":qe(n).then((function(e){i({type:"LOAD_MOL_FILE",files:e})}),(function(e){alert(e)}));break;case".json":1===n.length?qe(n).then((function(e){ge.build(JSON.parse(e[0].binary.toString())).then((function(e){i({type:"LOAD_JSON_FILE",data:{AnalysisObj:e}})}))}),(function(e){alert(e)})):alert("You can add only one json file");break;case".dx":case".jdx":qe(n).then((function(e){i({type:"LOAD_JCAMP_FILE",files:e})}),(function(e){alert(e)}));break;default:alert("The file must be ( .dx,.jdx,.json,.mol ) extension")}},l=t[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)c()}catch(u){r=!0,a=u}finally{try{n||null==l.return||l.return()}finally{if(r)throw a}}}),[i]),c=Object(Ye.a)({onDrop:o,noClick:!0}),l=c.getRootProps,u=c.getInputProps,s=c.isDragActive;return Object(He.jsx)("div",Object.assign({},l(),{css:$e}),Object(He.jsx)("input",u()),s&&Object(He.jsx)("div",{css:Ze,style:{width:"".concat(n+41,"px"),height:"".concat(a,"px")}},Object(He.jsx)(Xe.m,null),Object(He.jsx)("p",null,"Drop your files here")),e.children)};function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var tt={position:"fixed",top:0,left:0,pointerEvents:"none",backgroundColor:"gray",padding:"3px",borderRadius:"2px",color:"white",whiteSpace:"nowrap",fontSize:"10px"},nt=function(e){var t=e.style,n=e.className,i=e.popupPlacement,o=void 0===i?"right":i,c=e.children,l=e.title,u=e.offset,s=void 0===u?{x:0,y:0}:u,f=Object(r.useRef)(),d=Object(r.useRef)(),p=Object(r.useState)({x:0,y:0}),b=Object(E.a)(p,2),m=b[0],h=b[1],g=Object(r.useState)(!1),y=Object(E.a)(g,2),O=y[0],v=y[1];Object(r.useLayoutEffect)((function(){if(O){var e=function(){var e,t,n=f.current.getBoundingClientRect(),r=d.current.getBoundingClientRect();switch(o){case"left":e=-r.width,t=n.height/2-n.height/2*r.height/n.height;break;case"right":e=n.width,t=n.height/2-n.height/2*r.height/n.height;break;case"top":e=n.width/2-n.width/2*r.width/n.width,t=-n.height;break;case"bottom":e=n.width/2-n.width/2*r.width/n.width,t=n.height;break;default:e=0,t=0}return{x:e+n.x,y:t+n.y}}();h(e)}}),[o,O]);var j=Object(r.useCallback)((function(){v(!0)}),[]),x=Object(r.useCallback)((function(){v(!1)}),[]);return a.a.createElement("div",{style:{position:"relative"}},a.a.createElement("div",{ref:f,onMouseOver:j,onMouseOut:x},c),a.a.createElement("div",{ref:d,style:et({},tt,{transform:"translate(".concat(m.x,"px,").concat(m.y,"px)"),zIndex:999999999,left:s.x,top:s.y,display:O?"block":"none"},t),className:n},a.a.createElement("span",{style:{pointerEvents:"none"}},l)))};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it={width:"35px",height:"35px",backgroundColor:"white",padding:"5px",margin:"0px",border:"none"},ot={color:"black",backgroundColor:"#f3f3f3"},ct=function(e){var t=e.children,n=e.value,i=e.disabled,o=e.isActive,c=e.onChange,l=e.className,u=e.style,s=Object(r.useState)(o),f=Object(E.a)(s,2),d=f[0],p=f[1],b=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation();var t=!d;p(t),c(t?n:null)}),[d,c,n]);return Object(r.useEffect)((function(){p(o)}),[o]),a.a.createElement("button",{type:"button",onClick:b,style:d?at({},it,{},ot,{},u):at({},it,{},u),className:" ".concat(l,d?" button active":" button"),disabled:i},a.a.cloneElement(t,{style:{fontSize:"10px"}}))};ct.defaultProps={isActive:!1,disabled:!1,value:null,onChange:function(){return null},onValueReady:function(){return null}};var lt=ct,ut={display:"flex",flexDirection:"column"},st=function(e){var t=e.children,n=e.value,i=e.onChange,o=Object(r.useState)([]),c=Object(E.a)(o,2),l=c[0],u=c[1],s=Object(r.useCallback)((function(e){var t=Object(V.a)(l).map((function(t){return{value:t.value,isActive:t.value===e}}));u(t),i(e)}),[i,l]),f=Object(r.useMemo)((function(){return a.a.Children.map(t,(function(e,t){return e&&a.a.cloneElement(e,{onChange:s,isActive:l[t]&&l[t].isActive&&l[t].isActive,index:t})}))}),[t,s,l]);return Object(r.useEffect)((function(){var e=a.a.Children.map(t,(function(e){if(e)return{value:e.props.value,isActive:e.props.value===n}}));u(e)}),[t,n]),a.a.createElement("div",{style:ut}," ",f," ")};st.defaultProps={onChange:function(){return null}};var ft=st,dt={icon:{backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"18px 18px"}},pt=function(e){var t=e.defaultValue,n=Object(r.useState)(),i=Object(E.a)(n,2),o=i[0],c=i[1],l=Ue(),u=Object(r.useCallback)((function(e){return l({type:"SET_SELECTED_TOOL",selectedTool:e})}),[l]),s=z().activeSpectrum,f=Object(r.useCallback)((function(e){c(e),u(e)}),[u]),d=Object(r.useCallback)((function(e){"z"===e.key?(c(ye.zoom.id),u(ye.zoom.id)):"p"===e.key?(c(ye.peakPicking.id),u(ye.peakPicking.id)):"i"===e.key&&(c(ye.integral.id),u(ye.integral.id))}),[u]);return Object(r.useEffect)((function(){return c(t),document.addEventListener("keydown",d,!1),function(){document.removeEventListener("keydown",d,!1)}}),[t,d]),a.a.createElement(ft,{value:o,onChange:f},a.a.createElement(lt,{key:ye.zoom.id,value:ye.zoom.id},a.a.createElement(nt,{title:"".concat(ye.zoom.label," ( Press z )"),popupPlacement:"right",offset:{x:10,y:0}},a.a.createElement(Xe.k,null))),a.a.createElement(lt,{key:ye.peakPicking.id,value:ye.peakPicking.id,disabled:!s,className:"ci-icon-nmr-peak-picking",style:dt.icon},a.a.createElement(nt,{title:"".concat(ye.peakPicking.label," ( Press p )"),popupPlacement:"right",offset:{x:10,y:0}})),a.a.createElement(lt,{key:3,value:ye.integral.id,disabled:!s,className:"ci-icon-nmr-integrate",style:dt.icon},a.a.createElement(nt,{title:"".concat(ye.integral.label," ( Press i )"),popupPlacement:"right",offset:{x:10,y:0}})))},bt=Object(r.memo)(pt);pt.defaultProps={defaultValue:ye.zoom.id};var mt={button:{backgroundColor:"transparent",border:"none",width:"35px",height:"35px"}},ht=Object(r.memo)((function(e){var t=e.isUndoButtonVisible,n=void 0===t||t,i=e.isRedoButtonVisible,o=void 0===i||i,c=z().history,l=Ue(),u=Object(r.useCallback)((function(){return l({type:"redo"})}),[l]),s=Object(r.useCallback)((function(){return l({type:"undo"})}),[l]);return a.a.createElement(r.Fragment,null,n&&a.a.createElement(nt,{title:"Redo",popupPlacement:"right"},a.a.createElement("button",{style:mt.button,type:"button",onClick:u,disabled:!c.hasRedo},a.a.createElement(Xe.g,null))),o&&a.a.createElement(nt,{title:"Undo",popupPlacement:"right"},a.a.createElement("button",{type:"button",style:mt.button,onClick:s,disabled:!c.hasUndo},a.a.createElement(Xe.l,null))))})),gt={button:{backgroundColor:"transparent",border:"none",width:"35px",height:"35px",backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"20px"}},yt=function(e){var t=e.isFullZoomButtonVisible,n=void 0===t||t,i=e.isFullZoomButtonEnabled,o=void 0===i||i,c=e.isViewButtonVisible,l=void 0===c||c,u=e.isSaveButtonVisible,s=void 0===u||u,f=e.isSaveButtonEnabled,d=void 0===f||f,p=Ue(),b=z(),m=b.data,h=b.verticalAlign,g=Object(r.useCallback)((function(){return p({type:"SAVE_DATA_AS_JSON"})}),[p]),y=Object(r.useCallback)((function(){p({type:"FULL_ZOOM_OUT"})}),[p]),O=Object(r.useCallback)((function(){p({type:"CHANGE_SPECTRUM_DIPSLAY_VIEW_MODE"})}),[p]),v=Object(r.useCallback)((function(e){"f"===e.key?y():"v"===e.key?O():e.ctrlKey&&"s"===e.key&&(g(),e.preventDefault())}),[y,g,O]);return Object(r.useEffect)((function(){return document.addEventListener("keydown",v,!1),function(){document.removeEventListener("keydown",v,!1)}}),[v]),a.a.createElement(r.Fragment,null,n&&a.a.createElement(nt,{title:"Full Zoom Out ( Press f )",popupPlacement:"right"},a.a.createElement("button",{type:"button",style:gt.button,onClick:y,disabled:!o},a.a.createElement(Xe.j,null))),l&&a.a.createElement(nt,{title:"Spectra alignment",popupPlacement:"right"},a.a.createElement("div",null,a.a.createElement("button",{type:"button",style:gt.button,onClick:O,disabled:m&&m.length<=1,className:0!==h?"ci-icon-nmr-overlay3-aligned":"ci-icon-nmr-overlay3"}))),s&&a.a.createElement(nt,{title:"Save Data as JSON File ( Press Ctrl + S )",popupPlacement:"right"},a.a.createElement("button",{type:"button",style:gt.button,onClick:g,disabled:!d},a.a.createElement(Xe.a,null))))},Ot={button:{backgroundColor:"transparent",border:"none",width:"35px",height:"35px"}},vt=function(e){var t=e.defaultValue,n=void 0===t||t,i=Object(r.useState)(),o=Object(E.a)(i,2),c=o[0],l=o[1],u=Object(r.useState)(!0),s=Object(E.a)(u,2),f=s[0],d=s[1],p=Ue(),b=z(),m=b.data,h=b.activeSpectrum,g=Object(r.useCallback)((function(){return p({type:"TOGGLE_REAL_IMAGINARY_VISIBILITY",isRealSpectrumVisible:!c})}),[p,c]),y=Object(r.useCallback)((function(){l(!c),g()}),[c,g]);return Object(r.useEffect)((function(){l(n)}),[n]),Object(r.useEffect)((function(){var e=m&&h&&m.find((function(e){return e.id===h.id}));e&&(null==h||-1===e?(d(!0),l(n)):(l(e.isRealSpectrumVisible),d(!e.info.isComplex)))}),[h,m,n]),h?a.a.createElement(nt,{title:c?"Real Spectrum":"Imaginary Spectrum",popupPlacement:"right"},a.a.createElement("button",{style:Ot.button,type:"button",disabled:f,onClick:y},c?"Re":"Im")):null},jt=Object(r.memo)(vt);vt.defaultProps={defaultValue:!0};var xt={button:{backgroundColor:"transparent",border:"none",width:"35px",height:"35px"},icon:{backgroundPosition:"center center",backgroundRepeat:"no-repeat",backgroundSize:"18px 18px"}},Et=function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Ue(),c=Object(r.useState)(),l=Object(E.a)(c,2),u=l[0],s=l[1],f=z(),d=f.data,p=f.activeSpectrum,b=Object(r.useCallback)((function(e){return o({type:"SET_SELECTED_FILTER",selectedFilter:e})}),[o]),m=Object(r.useCallback)((function(e){i(e),b(e)}),[b]),h=Object(r.useCallback)((function(){o({type:"APPLY_FFT_FILTER",value:""}),o({type:"SET_SELECTED_FILTER",selectedFilter:null})}),[o]);return Object(r.useEffect)((function(){if(d&&p){var e=d.find((function(e){return e.id===p.id})).info;s({info:e})}else s({info:{isComplex:!1,isFid:!1}})}),[p,d]),a.a.createElement(a.a.Fragment,null,a.a.createElement(ft,{value:n,onChange:m},u&&Z(u)&&a.a.createElement(lt,{key:$.zeroFilling.name,value:$.zeroFilling.name},a.a.createElement(nt,{title:"Zero Filling Filter",popupPlacement:"right",offset:{x:10,y:0}},"Zero")),u&&J(u)&&a.a.createElement(lt,{key:$.phaseCorrection.name,value:$.phaseCorrection.name,className:"ci-icon-nmr-phase-correction",style:xt.icon},a.a.createElement(nt,{title:"Manual Phase Correction",popupPlacement:"right",offset:{x:10,y:0}}))),u&&G(u)&&a.a.createElement("button",{style:xt.button,type:"button",onClick:h},a.a.createElement(nt,{title:"FFT Filter",popupPlacement:"right",offset:{x:10,y:0}},"FFT")))},kt={display:"flex",flexDirection:"column",alignItems:"start"},wt=function(){return a.a.createElement("div",{css:kt},a.a.createElement(bt,{defaultValue:ye.zoom.id}),a.a.createElement(Et,null),a.a.createElement(ht,null),a.a.createElement(yt,null),a.a.createElement(jt,{defaultValue:!0}))},Pt={container:{height:"100%",width:"100%",display:"flex",flexDirection:"column"}},Dt=function(e){var t=e.children,n=e.defaultOpenIndex,i=void 0===n?0:n,o=Object(r.useState)(Array(t.length).fill(!1).map((function(e,t){return t===i||e}))),c=Object(E.a)(o,2),l=c[0],u=c[1],s=Object(r.useRef)(),f=Object(r.useCallback)((function(e){var t=Object(V.a)(l);t=t.map((function(t,n){return n===e})),u(t)}),[l]),d=Object(r.useMemo)((function(){return a.a.Children.map(t,(function(e,t){return a.a.cloneElement(e,{onOpen:f,index:t,isOpen:l[t]})}))}),[t,l,f]);return a.a.createElement("div",{ref:s,style:Pt.container},d)};function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ft={container:{display:"flex",flexDirection:"column",margin:"0px"},button:{cursor:"pointer",padding:"12px",display:"flex",alignItems:"center",border:"none",outline:"none",transition:"background-color 0.2s ease-in",boxShadow:"inset 0px 1px 0px 0px #ffffff",background:"linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%)",filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr="#ffffff", endColorstr="#f6f6f6",GradientType=0)',backgroundColor:"#ffffff",color:"#666666",fontFamily:"Arial",fontWeight:"bold",textDecoration:"none",textShadow:"0px 1px 0px #ffffff",borderTop:"0.55px  solid #d5d5d5"},buttonTitle:{padding:0,margin:0},content:{backgroundColor:"white",maxHeight:"0",overflow:"auto",flex:"1 1 1px"}},It=function(e){var t=e.title,n=e.children,i=e.index,o=e.isOpen,c=e.onOpen,l=e.style,u=Object(r.useState)(null),s=Object(E.a)(u,2),f=s[0],d=s[1],p=Object(r.useRef)(),b=Object(r.useRef)();return Object(r.useEffect)((function(){d(o?{backgroundColor:"#ccc"}:null)}),[o]),Object(r.useEffect)((function(){!1===o&&d(null)}),[o]),a.a.createElement("div",{ref:b,style:St({},Ft.container,{flex:null==f?0:"1 1 1px",transition:o?"":"flex 0.2s ease"}),className:"custom-accordion"},a.a.createElement("button",{type:"button",style:Ft.button,onClick:function(){d(null==f?{backgroundColor:"#ccc"}:null),null==f&&c(i)}},a.a.createElement("p",{style:Ft.buttonTitle},t)),a.a.createElement("div",{ref:p,style:St({},Ft.content,{maxHeight:null==f?0:"100%"},l)},n))};It.defaultProps={onOpen:function(){return null}};var Tt=It,Rt={button:{backgroundColor:"transparent",border:"none"},row:{display:"flex",alignContent:"center",height:"25px",borderBottom:"0.55px solid #f1f1f1"},name:{flex:1,height:"100%",display:"flex",alignItems:"center"}},Lt=function(e){var t,n=e.visible,r=e.activated,i=e.markersVisible,o=e.data,c=e.onChangeVisibility,l=e.onChangeMarkersVisibility,u=e.onChangeActiveSpectrum,s=e.onOpenColorPicker;return a.a.createElement("div",{style:Rt.row,key:"slist".concat(o.id)},a.a.createElement("button",{style:Rt.button,type:"button",onClick:function(){return c(o)}},a.a.createElement(Xe.b,{style:(t=o.id,-1!==n.findIndex((function(e){return e.id===t}))?{opacity:1,strokeWidth:"1px",fill:o.color}:{opacity:.1,fill:o.color})})),a.a.createElement("div",{style:Rt.name},a.a.createElement("span",null,o.name)),a.a.createElement("button",{style:Rt.button,type:"button",onClick:function(){return l(o)}},a.a.createElement(Xe.b,{style:function(e){return-1!==i.findIndex((function(t){return t.id===e}))}(o.id)?{width:12,opacity:1,fill:"black"}:{width:12,opacity:.1,fill:"black"}})),a.a.createElement("button",{style:Rt.button,type:"button",onClick:function(){return u(o)}},a.a.createElement(Xe.c,{style:function(e){return r&&r.id===e}(o.id)?{fill:o.color,height:"15px"}:{fill:o.color,opacity:.1}})),a.a.createElement("button",{style:Rt.button,type:"button",className:"color-change-bt",onClick:function(e){return s(o,e)}},a.a.createElement(Xe.d,null)))},Nt=n(148);function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _t={position:"fixed",zIndex:999999999};var zt=Object(r.memo)((function(e){var t=e.colorPickerPosition,n=e.selectedSpectrumData,r=e.onColorChanged,i=e.onMouseLeave;return a.a.createElement("div",{style:Mt({},_t,{left:t.x-200,top:t.y}),onMouseLeave:i},a.a.createElement(Nt.SketchPicker,{color:n.color,presetColors:se,onChangeComplete:r}))}),(function(){return!0})),Vt={button:{backgroundColor:"transparent",border:"none"},container:{display:"flex",flexDirection:"column",flexGrow:"1",height:"100%"},toolbar:{display:"flex",flexDirection:"row",borderBottom:"0.55px solid rgb(240, 240, 240)"},counterLabel:{margin:0,textAlign:"right",width:"100%",lineHeight:"22px",padding:"0px 10px"}},Ut=function(){var e=Object(r.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)([]),c=Object(E.a)(o,2),l=c[0],u=c[1],s=Object(r.useState)([]),f=Object(E.a)(s,2),d=f[0],p=f[1],b=Object(r.useState)(!1),m=Object(E.a)(b,2),h=m[0],g=m[1],y=Object(r.useState)(null),O=Object(E.a)(y,2),v=O[0],j=O[1],x=Object(r.useState)(null),k=Object(E.a)(x,2),w=k[0],P=k[1],D=z().data,C=Ue(),S=Object(r.useCallback)((function(e){var t=l.findIndex((function(t){return t.id===e.id})),n=Object(V.a)(l);-1===t?n.push({id:e.id}):n.splice(t,1),C({type:"CHANGE_VISIBILITY",data:n}),u(n)}),[C,l]),F=Object(r.useCallback)((function(e){var t=d.findIndex((function(t){return t.id===e.id})),n=Object(V.a)(d);-1===t?n.push({id:e.id}):n.splice(t,1),C({type:"CHANGE_PEAKS_MARKERS_VISIBILITY",data:n}),p(n)}),[C,d]),I=Object(r.useCallback)((function(e){n&&n.id===e.id?(C({type:"CHANGE_ACTIVE_SPECTRUM",data:null}),i(null)):(C({type:"CHANGE_ACTIVE_SPECTRUM",data:{id:e.id}}),i({id:e.id}))}),[n,C]),T=Object(r.useCallback)((function(e){null!==v&&C({type:"CHANGE_SPECTRUM_COLOR",data:{id:v.id,color:e.hex}})}),[C,v]);Object(r.useEffect)((function(){var e=D?D.filter((function(e){return!0===e.isVisible})):[],t=D?D.filter((function(e){return!0===e.isPeaksMarkersVisible})):[];u(e),p(t),D&&1===D.length&&null==n&&I(D[0])}),[D,I,n]);var R=Object(r.useCallback)((function(e,t){P({x:t.nativeEvent.clientX,y:t.nativeEvent.clientY}),j(e),g(!0)}),[]),L=Object(r.useCallback)((function(){g(!1)}),[]),N=Object(r.useMemo)((function(){return D&&D.map((function(e){return a.a.createElement(Lt,{key:e.id,visible:l,activated:n,markersVisible:d,data:e,onChangeVisibility:S,onChangeMarkersVisibility:F,onChangeActiveSpectrum:I,onOpenColorPicker:R})}))}),[D,I,F,S,R,n,d,l]),A=Object(r.useCallback)((function(){C({type:"DELETE_SPECTRA"})}),[C]);return a.a.createElement("div",{style:Vt.container},a.a.createElement("div",{style:Vt.toolbar},a.a.createElement(nt,{title:"Delete Spectrum",poupPlacement:"left"},a.a.createElement("button",{style:Vt.button,type:"button",onClick:A},a.a.createElement(Xe.h,null))),a.a.createElement("p",{style:Vt.counterLabel},"[ ",D&&D.length," ]")),a.a.createElement("div",{style:{overflow:"auto"}},N,h?a.a.createElement(zt,{onMouseLeave:L,selectedSpectrumData:v,colorPickerPosition:w,onColorChanged:T}):null))};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt={width:"100%",height:"100%",padding:"0px",display:"flex",flexDirection:"column"},Ht=function(e){var t=e.children,n=e.className,r=e.style;return a.a.createElement("div",{className:n,style:Yt({},Xt,{style:r})},t)};function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jt={width:"100%",display:"flex",padding:"0px 5px",color:"#424242",backgroundColor:"#d8d8d8",borderBottom:"0.55px solid #d8d8d8",fontSize:"11px;",fontWeight:"bold"},qt=function(e){var t=e.children,n=e.className,r=e.style;return a.a.createElement("div",{className:n,style:Wt({},Jt,{style:r})},t)};function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt={width:"100%",overflowY:"auto",display:"flex",flexDirection:"column",padding:"5px 0px",color:"gray"},Qt=function(e){var t=e.children,n=e.className,r=e.style;return a.a.createElement("div",{className:n,style:$t({},Kt,{style:r})},a.a.Children.map(t,(function(e){return a.a.cloneElement(e,{style:{borderBottom:"0.55px solid #d8d8d8"}})})))};function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn={width:"100%",display:"flex",padding:"5px 0px"},rn=function(e){var t=e.children,n=e.className,r=e.style;return a.a.createElement("div",{className:n,style:tn({},nn,{},r)},t)};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var cn={width:"100%",display:"flex",alignItems:"flex-start"};function ln(e){return"top"===e.toLowerCase()?"flex-start":"bottom"===e.toLowerCase()?"flex-end":"center"}var un=function(e){var t=e.children,n=e.className,r=e.style,i=e.align,o=void 0===i?"center":i,c=e.vAlign,l=void 0===c?"center":c,u=e.size,s=void 0===u?1:u;return a.a.createElement("div",{className:n,style:on({},cn,{alignItems:ln(l),textAlign:o,flex:s},r)},t)},sn=function(){var e=Object(r.useState)([]),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Object(r.useContext)(M),c=o.activeSpectrum,l=o.data;return Object(r.useEffect)((function(){var e=c?l.find((function(e){return e.id===c.id})):[],t=e&&e.integrals;i(t?e.integrals:[])}),[c,l]),c&&l&&n.length>0?a.a.createElement(Ht,null,a.a.createElement(qt,null,a.a.createElement(rn,null,a.a.createElement(un,{align:"center"},"From"),a.a.createElement(un,{align:"center"},"To"),a.a.createElement(un,{align:"center"},"Value"))),a.a.createElement(Qt,null,n.map((function(e){return a.a.createElement(rn,{key:e.to+e.from+e.value},a.a.createElement(un,{align:"center",component:"th",scope:"row"},e.from.toFixed(2)),a.a.createElement(un,{align:"center"},e.to.toFixed(2)),a.a.createElement(un,{align:"center"},e.value.toFixed(2)))})))):a.a.createElement("p",{style:{textAlign:"center",width:"100%",fontSize:"11px",padding:"5px",color:"gray"}},"No Data")},fn=n(155),dn=n(156),pn=n(151),bn=n.n(pn),mn=(n(353),n(157)),hn={outerContainer:{position:"fixed",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(255,255,255,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1},innerContainer:{padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 0, 0 8px 16px rgba(0,0,0,.30)",display:"flex",flexDirection:"column"}},gn=function(e){var t=e.children,n=e.open,i=e.onClose,o=Object(r.useCallback)((function(e){i(e)}),[i]);return Object(r.useEffect)((function(){!1===n&&o()}),[o,n]),n&&a.a.createElement("div",{style:hn.outerContainer,onClick:o},a.a.createElement("div",{style:hn.innerContainer,onClick:function(e){e.preventDefault(),e.stopPropagation()}},t))};gn.defaultProps={onClose:function(){return null},open:!1};var yn=gn;function On(){var e=Object(Be.a)(["\n  -moz-box-shadow: inset 0px 1px 0px 0px #ffffff;\n  -webkit-box-shadow: inset 0px 1px 0px 0px #ffffff;\n  box-shadow: inset 0px 1px 0px 0px #ffffff;\n  background: -webkit-gradient(\n    linear,\n    left top,\n    left bottom,\n    color-stop(0.05, #ffffff),\n    color-stop(1, #f6f6f6)\n  );\n  background: -moz-linear-gradient(top, #ffffff 5%, #f6f6f6 100%);\n  background: -webkit-linear-gradient(top, #ffffff 5%, #f6f6f6 100%);\n  background: -o-linear-gradient(top, #ffffff 5%, #f6f6f6 100%);\n  background: -ms-linear-gradient(top, #ffffff 5%, #f6f6f6 100%);\n  background: linear-gradient(to bottom, #ffffff 5%, #f6f6f6 100%);\n  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ffffff', endColorstr='#f6f6f6',GradientType=0);\n  background-color: #ffffff;\n  border: 0.55px solid #dcdcdc;\n  display: inline-block;\n  cursor: pointer;\n  color: #666666;\n  font-weight: bold;\n  padding: 6px 24px;\n  text-decoration: none;\n  text-shadow: 0px 1px 0px #ffffff;\n\n  :hover {\n    background: -webkit-gradient(\n      linear,\n      left top,\n      left bottom,\n      color-stop(0.05, #f6f6f6),\n      color-stop(1, #ffffff)\n    );\n    background: -moz-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);\n    background: -webkit-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);\n    background: -o-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);\n    background: -ms-linear-gradient(top, #f6f6f6 5%, #ffffff 100%);\n    background: linear-gradient(to bottom, #f6f6f6 5%, #ffffff 100%);\n    filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f6f6f6', endColorstr='#ffffff',GradientType=0);\n    background-color: #f6f6f6;\n  }\n"]);return On=function(){return e},e}var vn=Object(He.css)(On()),jn=function(e){var t=e.onClose,n=e.open,a=e.selectedMolecule,i=Object(r.useState)(null),o=Object(E.a)(i,2),c=o[0],l=o[1],u=Ue();Object(r.useEffect)((function(){l(a?a.molfile:null)}),[a,n]);var s=Object(r.useCallback)((function(e){l(e)}),[l]),f=Object(r.useCallback)((function(){t()}),[t]),d=Object(r.useCallback)((function(){u(a?{type:"SET_MOLECULE",molfile:c,key:a.key}:{type:"ADD_MOLECULE",molfile:c}),t()}),[u,a,c,t]);return Object(He.jsx)(yn,{open:n,onClose:f},Object(He.jsx)(mn.a,{initialMolfile:a&&a.molfile,svgMenu:!0,fragment:!1,onChange:s}),Object(He.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"flex-end",margin:5}},Object(He.jsx)("button",{type:"button",css:vn,onClick:f},"Close"),Object(He.jsx)("button",{type:"button",css:vn,onClick:d},"Save")))};function xn(){var e=Object(Be.a)(["\n  .slider {\n    height: 180px;\n    padding: 0px;\n  }\n  .slider p {\n    width: 100%;\n    margin: 0 auto;\n    display: block;\n    position: relative;\n  }\n\n  .slider svg polygon {\n    fill: gray !important;\n  }\n"]);return xn=function(){return e},e}function En(){var e=Object(Be.a)(["\n  display: flex;\n  flex-direction: row;\n  border-bottom: 0.55px solid rgb(240, 240, 240);\n\n  button svg {\n    fill: #4e4e4e;\n  }\n\n  button {\n    width: 40px !important;\n    padding: 5px 0px !important;\n    min-width: 10px !important;\n    background-color: transparent;\n    border: none;\n  }\n\n  p {\n    margin: 0;\n    text-align: right;\n    width: 100%;\n    line-height: 22px;\n    padding: 0px 10px;\n  }\n"]);return En=function(){return e},e}function kn(){var e=Object(Be.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n"]);return kn=function(){return e},e}var wn=Object(He.css)(kn()),Pn=Object(He.css)(En()),Dn=Object(He.css)(xn()),Cn=function(){var e=Object(r.useRef)(),t=a.a.useState(!1),n=Object(E.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)(),l=Object(E.a)(c,2),u=l[0],s=l[1],f=Object(r.useState)(0),d=Object(E.a)(f,2),p=d[0],b=d[1],m=Ue(),h=Object(r.useContext)(M).molecules,g=Object(r.useCallback)((function(){o(!1)}),[]),y=Object(r.useCallback)((function(e,t,n){s(n?{molfile:n,key:t}:null),o(!0)}),[]),O=Object(r.useCallback)((function(){navigator.clipboard.readText().then((function(e){m({type:"ADD_MOLECULE",molfile:e})}))}),[m]),v=Object(r.useCallback)((function(){h[p]&&h[p].key&&(b(0),m({type:"DELETE_MOLECULE",key:h[p].key}))}),[m,h,p]);return Object(He.jsx)("div",{css:wn},Object(He.jsx)("div",{css:Pn},Object(He.jsx)(nt,{title:"Past Molecule",popupPlacement:"left"},Object(He.jsx)("button",{className:"bar-button",type:"button",onClick:O},Object(He.jsx)(Xe.e,null))),Object(He.jsx)(nt,{title:"Add Molecule",popupPlacement:"left"},Object(He.jsx)("button",{className:"bar-button",type:"button",onClick:y},Object(He.jsx)(Xe.f,null))),Object(He.jsx)(nt,{title:"Delete Molecule",popupPlacement:"left"},Object(He.jsx)("button",{className:"bar-button",type:"button",onClick:v},Object(He.jsx)(Xe.h,null))),Object(He.jsx)("p",null,h&&h.length>0&&"".concat(+(p+1)," / ").concat(h.length)," ")),Object(He.jsx)("div",{css:Dn,ref:e},Object(He.jsx)(bn.a,{onSlideChange:function(e){return b(e.slideIndex)}},h&&h.map((function(t){return Object(He.jsx)("div",{key:t.key,onDoubleClick:function(e){return y(e,t.key,t.molfile)}},Object(He.jsx)("div",null,Object(He.jsx)(fn.a,{width:e&&e.current.clientWidth-70,molfile:t.molfile})),Object(He.jsx)("p",null,Object(He.jsx)(dn.a,{mf:t.mf})," - ",t.mw.toFixed(2)))}))),Object(He.jsx)(jn,{open:i,onClose:g,selectedMolecule:u})))},Sn=n(152),Fn=function(e){var t=e.checked,n=e.onChange,i=Object(r.useState)(t),o=Object(E.a)(i,2),c=o[0],l=o[1],u=Object(r.useCallback)((function(){var e=!c;l(e),n(e)}),[c,n]);return a.a.createElement("input",{type:"checkbox",onChange:u,defaultChecked:c})};Fn.defaultProps={onChange:function(){return null}};var In=Fn,Tn={button:{backgroundColor:"transparent",border:"none",height:25,width:25}},Rn=function(){var e=z(),t=e.data,n=e.activeSpectrum,i=Ue(),o=Object(r.useCallback)((function(e,t){i({type:"ENABLE_FILTER",id:e,checked:t})}),[i]),c=Object(r.useCallback)((function(e){i({type:"DELETE_FILTER",id:e})}),[i]),l=Object(r.useMemo)((function(){var e=t&&n&&t.find((function(e){return e.id===n.id}));return e&&e.filters&&e.filters.map((function(e){return a.a.createElement(rn,{key:e.id},a.a.createElement(un,{align:"center",size:"2"},e.kind),a.a.createElement(un,{align:"left",size:"3"},a.a.createElement(Sn.a,{data:e.value})),a.a.createElement(un,{align:"center",vAlign:"center",size:"1"},a.a.createElement(In,{checked:e.flag,onChange:function(t){return o(e.id,t)}}),a.a.createElement("button",{style:Tn.button,type:"button",onClick:function(){return c(e.id)}},a.a.createElement(Xe.h,null))))}))}),[n,t,c,o]);return l&&l.length>0?a.a.createElement(Ht,null,a.a.createElement(qt,null,a.a.createElement(rn,null,a.a.createElement(un,{align:"center",size:"1"},"Label"),a.a.createElement(un,{align:"center",size:"2"},"Properties"))),a.a.createElement(Qt,null,l)):a.a.createElement("p",{style:{textAlign:"center",width:"100%",fontSize:"11px",padding:"5px",color:"gray"}},"No Data")};function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Nn={searchInput:{width:"100%",borderRadius:"5px",border:"0.55px solid gray",padding:"5px",marginBottom:"2px"}},An=function(){var e=z(),t=e.data,n=e.activeSpectrum,i=Object(r.useState)([]),o=Object(E.a)(i,2),c=o[0],l=o[1],u=Object(r.useState)([]),s=Object(E.a)(u,2),f=s[0],d=s[1],p=Object(r.useCallback)((function(e){var t=Object.keys(c).filter((function(t){return t.toLowerCase().includes(e.target.value)}));d(t)}),[c]);return Object(r.useEffect)((function(){if(t&&n){var e=t.find((function(e){return e.id===n.id}));e&&(l(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.info,{},e.meta)),d([].concat(Object(V.a)(Object.keys(e.info)),Object(V.a)(Object.keys(e.meta)))))}}),[n,t]),c&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement("input",{type:"text",style:Nn.searchInput,placeholder:"Search for parameter...",onChange:p})),a.a.createElement(Ht,null,a.a.createElement(qt,null,a.a.createElement(rn,null,a.a.createElement(un,{size:3},"Parameter"),a.a.createElement(un,{size:9},"Value"))),a.a.createElement(Qt,null,f.map((function(e){return a.a.createElement(rn,{key:e,className:"Information"},a.a.createElement(un,{size:3,align:"left"},e),a.a.createElement(un,{size:9,align:"left",style:{paddingLeft:5}},"".concat(c[e])))})))))},Mn=function(){return a.a.createElement(Dt,null,a.a.createElement(Tt,{title:"Spectra"},a.a.createElement(Ut,null)),a.a.createElement(Tt,{title:"Information",style:{overflow:"hidden"}},a.a.createElement(An,null)),a.a.createElement(Tt,{title:"Peaks"},a.a.createElement("p",null,"peaks")),a.a.createElement(Tt,{title:"Filters"},a.a.createElement(Rn,null)),a.a.createElement(Tt,{title:"Integrals"},a.a.createElement(sn,null)),a.a.createElement(Tt,{title:"Structures"},a.a.createElement(Cn,null)))},_n=n(1),zn=n.n(_n);function Vn(){var e=Object(Be.a)(["\n  -webkit-clip-path: url('#clip');\n  clip-path: url('#clip');\n\n  path {\n    stroke-width: 1.5;\n    fill: none;\n    // stroke-linejoin: round;\n    // stroke-linecap: round;\n    // will-change: transform;\n  }\n"]);return Vn=function(){return e},e}var Un=Object(He.css)(Vn()),Bn=function(){var e=z(),t=e.xDomain,n=e.getScale,a=e.verticalAlign,i=e.activeSpectrum,o=e.data,c=Object(r.useMemo)((function(){function e(e){var r=e.id,a=e.x,i=e.y,o=n(r),c=B.c.reduce(a,i,{from:t[0],to:t[1]}),l="M ".concat(o.x(c.x[0])," ").concat(o.y(c.y[0])," ");return l+=c.x.slice(1).reduce((function(e,t,n){return e+=" L ".concat(o.x(t)," ").concat(o.y(c.y[n]))}),"")}return o&&o[0]&&o[0].x&&o.filter((function(e){return!0===e.isVisible})).map((function(t,n){return Object(He.jsx)("path",{className:"line",key:t.id,stroke:t.color,style:{opacity:(r=t.id,null===i||r===i.id?1:.2)},d:e(t),transform:"translate(0,".concat(0===a?0:n*a,")")});var r}))}),[i,o,n,a,t]);return Object(He.jsx)("g",{css:Un,clipPath:"url(#clip)"},c)};Bn.whyDidYouRender=!0;var Yn=Bn;Bn.contextTypes={width:zn.a.number,height:zn.a.number,data:zn.a.object,margin:zn.a.shape({top:zn.a.number.isRequired,right:zn.a.number.isRequired,bottom:zn.a.number.isRequired,left:zn.a.number.isRequired}),xDomain:zn.a.array,yDomain:zn.a.array,getScale:zn.a.func};var Xn=n(101),Hn=n.n(Xn);function Gn(){var e=Object(Be.a)(["\n    pointer-events: bounding-box;\n    :hover .target {\n      visibility: visible !important;\n      cursor: pointer;\n    }\n\n    .target {\n      visibility: hidden;\n    }\n  "]);return Gn=function(){return e},e}var Wn=function(e){var t=z(),n=t.getScale,a=t.height,i=t.margin,o=t.mode,c=e.id,l=e.x,u=e.from,s=e.to,f=e.integralID,d=Object(r.useState)(!1),p=Object(E.a)(d,2),b=p[0],m=p[1],h=Object(r.useState)(!1),g=Object(E.a)(h,2),y=g[0],O=g[1],v=I.c(l),j=Ue(),x=Object(He.css)(Gn()),k=Object(r.useCallback)((function(){j({type:"DELETE_INTEGRAL",integralID:f,spectrumID:c})}),[j,c,f]);var w=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),m(!0)}),[]),P=Object(r.useCallback)((function(){}),[]),D=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),m(!1);var t="RTL"===o?[n(c).x.invert(e.layerX),s]:[s,n(c).x.invert(e.layerX)];t[1]>t[0]?j({type:"RESIZE_INTEGRAL",integral:{from:t[0],to:t[1],id:f}}):j({type:"RESIZE_INTEGRAL",integral:{from:u,to:s,id:f}})}),[j,u,n,c,f,o,s]),C=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),O(!0)}),[]),S=Object(r.useCallback)((function(){}),[]),F=Object(r.useCallback)((function(e){e.preventDefault(),e.stopPropagation(),O(!1);var t="RTL"===o?[u,n(c).x.invert(e.layerX)]:[n(c).x.invert(e.layerX),u];t[1]>t[0]?j({type:"RESIZE_INTEGRAL",integral:{from:t[0],to:t[1],id:f}}):j({type:"RESIZE_INTEGRAL",integral:{from:u,to:s,id:f}})}),[j,u,n,c,f,o,s]);return Object(He.jsx)("svg",{css:x},Object(He.jsx)(Hn.a,{axis:"x",defaultPosition:{x:n(c).x(v[0]),y:0},position:{x:n(c).x(v[0]),y:0},scale:1,onStart:w,onDrag:P,onStop:D},Object(He.jsx)("rect",{cursor:"ew-resize",width:b?1:6,fill:"red",height:a+i.top,style:{fillOpacity:b?1:0}})),Object(He.jsx)(Hn.a,{axis:"x",defaultPosition:{x:n(c).x(v[1]),y:0},position:{x:n(c).x(v[1]),y:0},scale:1,onStart:C,onDrag:S,onStop:F},Object(He.jsx)("rect",{cursor:"ew-resize",width:y?1:6,fill:"red",height:a+i.top,style:{fillOpacity:y?1:0}})),Object(He.jsx)((function(){return Object(He.jsx)("svg",{className:"target",x:n(c).x(v[1])-20,y:a-i.bottom-20,onClick:k},Object(He.jsx)("rect",{rx:"5",width:"16",height:"16",fill:"#c81121"}),Object(He.jsx)("line",{x1:"5",x2:"10",y1:"8",y2:"8",stroke:"white",strokeWidth:"2"}))}),null))};function Jn(){var e=Object(Be.a)(["\n  -webkit-clip-path: url('#clip');\n  clip-path: url('#clip');\n\n  path {\n    stroke-width: 1.5;\n    fill: none;\n    // stroke-linejoin: round;\n    // stroke-linecap: round;\n    // will-change: transform;\n  }\n"]);return Jn=function(){return e},e}var qn=Object(He.css)(Jn()),Zn=function(){var e=z(),t=e.xDomain,n=e.getScale,a=e.activeSpectrum,i=e.data,o=e.height,c=e.margin,l=e.zoomFactor,u=Object(r.useCallback)((function(e){return I.e(e,[o-c.bottom,c.top])}),[o,c.bottom,c.top]),s=Object(r.useMemo)((function(){var e=function(e){var r=e.id,a=e.x,i=e.y,s=e.yDomain,f=n(r).x,d=null;if(l)d=u(s);else{var p=I.g.translate(0,o-c.bottom).scale(40).translate(0,-(o-c.bottom));d=p.rescaleY(u(s))}var b=B.c.reduce(a,i,{from:t[0],to:t[1]}),m="M ".concat(f(b.x[0])," ").concat(d(b.y[0]));return m+=b.x.slice(1).map((function(e,t){return" L ".concat(f(e)," ").concat(d(b.y[t]))})).join("")};return i&&i[0]&&i.filter((function(e){return!0===e.isVisible})).map((function(t){return t.integrals&&t.integrals.map((function(n){return Object(He.jsx)("g",{key:n.id},Object(He.jsx)("path",{className:"line",stroke:"black",style:{transformOrigin:"center top",opacity:(r=t.id,null===a||r===a.id?1:.2)},d:e({id:t.id,x:n.x,y:n.y,yDomain:t.integralsYDomain})}),Object(He.jsx)(Wn,{id:t.id,integralID:n.id,x:n.x,y:n.y,from:n.from,to:n.to,yDomain:t.integralsYDomain}));var r}))}))}),[i,n,l,t,u,o,c.bottom,a]);return Object(He.jsx)("g",{css:qn,clipPath:"url(#clip)"},s)},$n=Zn;function Kn(){var e=Object(Be.a)(["\n  line {\n    stroke: rgb(104, 104, 104);\n    stroke-opacity: 0.2;\n    shape-rendering: crispEdges;\n    stroke-dasharray: 3;\n    stroke-width: 1;\n  }\n\n  path {\n    stroke-width: 0;\n  }\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(Be.a)(["\n  path,\n  line {\n    fill: none;\n    stroke: black;\n    stroke-width: 1;\n    shape-rendering: crispEdges;\n  }\n"]);return Qn=function(){return e},e}Zn.contextTypes={width:zn.a.number,height:zn.a.number,data:zn.a.object,margin:zn.a.shape({top:zn.a.number.isRequired,right:zn.a.number.isRequired,bottom:zn.a.number.isRequired,left:zn.a.number.isRequired}),xDomain:zn.a.array,yDomain:zn.a.array,getScale:zn.a.func};var er=Object(He.css)(Qn()),tr=Object(He.css)(Kn()),nr=function(e){var t=e.label,n=e.show,i=e.showGrid,o=e.mode,c=z(),l=c.xDomain,u=c.getScale,s=c.height,f=c.width,d=c.margin,p=Object(r.useRef)(),b=Object(r.useRef)();t=t||("RTL"===o?"\u03b4 [ppm]":"time [s]");var m=I.a().ticks(8).tickFormat(I.d("0")),h=I.a().ticks(10).tickSize(-(s-d.top-d.bottom)).tickFormat("");Object(r.useEffect)((function(){if(n){var e="RTL"===o?[f-d.right,d.left]:[d.left,f-d.right],t=I.e([l[0],l[1]],e);I.f(p.current).call(m.scale(t)),I.f(b.current).call(h.scale(t))}}),[h,d.left,d.right,o,n,f,m,l]),Object(r.useEffect)((function(){if(n){var e=u();I.f(p.current).call(m.scale(e.x.domain(l))),I.f(b.current).call(h.scale(e.x.domain(l)))}}),[u,h,n,m,l]);var g=Object(r.useMemo)((function(){return n&&!0===n&&Object(He.jsx)("g",{className:"x",css:er,transform:"translate(0,".concat(s-d.bottom,")"),ref:p},Object(He.jsx)("text",{fill:"#000",x:f-60,y:"20",dy:"0.71em",textAnchor:"end"},t))}),[s,t,d.bottom,n,f]),y=Object(r.useMemo)((function(){return i&&!0===i&&Object(He.jsx)("g",{css:tr,ref:b,transform:"translate(0,".concat(s-d.bottom,")")})}),[i,s,d.bottom]);return f&&s?Object(He.jsx)(a.a.Fragment,null,g,y):null},rr=nr;function ar(){var e=Object(Be.a)(["\n  path,\n  line {\n    fill: none;\n    stroke: black;\n    stroke-width: 1;\n    shape-rendering: crispEdges;\n  }\n"]);return ar=function(){return e},e}nr.contextTypes={width:zn.a.number,height:zn.a.number,margin:zn.a.shape({top:zn.a.number.isRequired,right:zn.a.number.isRequired,bottom:zn.a.number.isRequired,left:zn.a.number.isRequired}),showGrid:zn.a.bool,show:zn.a.bool,label:zn.a.string,isFID:zn.a.bool},nr.defaultProps={showGrid:!1,show:!0,label:"",isFID:!0};var ir=Object(He.css)(ar()),or=function(e){var t=e.show,n=e.label,a=Object(r.useRef)(),i=z(),o=i.yDomain,c=i.getScale,l=i.margin;return Object(r.useEffect)((function(){if(t){var e=c(),n=I.b().ticks(5).tickFormat(I.d("~s"));I.f(a.current).call(n.scale([0,e.y[1]]))}}),[t,o,c]),Object(r.useMemo)((function(){return t&&!0===t&&Object(He.jsx)(r.Fragment,null,Object(He.jsx)("g",{className:"y",css:ir,transform:"translate(".concat(l.left+30,",0)"),ref:a},Object(He.jsx)("text",{fill:"#000",x:-(l.top+20),y:-(l.left-5),dy:"0.71em",transform:"rotate(-90)",textAnchor:"end"},n)))}),[n,l,t])},cr=or;or.contextTypes={showGrid:zn.a.bool,show:zn.a.bool,label:zn.a.string},or.defaultProps={showGrid:!1,show:!0,label:""};var lr={"1h":n(357),"13c":n(358)};function ur(e){return lr[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"1h";if(e=e.toLowerCase(),!lr[e])throw new Error("No defaults preferences for nucleus: ".concat(e));return e}(e)].peakLabelNumberDecimals}function sr(){var e=Object(Be.a)(["\n  .delete-bt {\n    background-color: red;\n    color: white;\n    border: 0px;\n    border-radius: 15px;\n    padding: 0px;\n    width: 15px;\n    height: 15px;\n    border: 15px;\n    position: absolute;\n    display: 'flex';\n    align-items: center;\n    justify-content: center;\n  }\n  .notification-input {\n    width: calc(100% - 10px) !important;\n  }\n\n  .notification-input-normal {\n    opacity: 1;\n    left: 4px;\n    position: absolute;\n    font-size: 10px;\n    outline: none;\n    user-select: none;\n    background-color: transparent;\n  }\n\n  .notification-input-normal input:focus {\n    outline: none;\n    background-color: white;\n  }\n\n  .input-over {\n    background-color: white;\n    outline: none;\n  }\n\n  .notification-label {\n    display: none;\n  }\n\n  .notification-group-over {\n    z-index: 9999999999;\n  }\n\n  .notification-group {\n    z-index: 1;\n  }\n\n  .notifcate-selected {\n    opacity: 0;\n  }\n\n  input[type='number']::-webkit-inner-spin-button,\n  input[type='number']::-webkit-outer-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n"]);return sr=function(){return e},e}var fr=Object(He.css)(sr()),dr=function(e){var t=e.id,n=e.spectrumID,i=e.x,o=e.y,c=e.value,l=e.color,u=e.isActive,s=e.decimalFraction,f=Object(r.useRef)(),d=Object(r.useState)(!1),p=Object(E.a)(d,2),b=p[0],m=p[1],h=Object(r.useState)(c),g=Object(E.a)(h,2),y=g[0],O=g[1],v=Object(r.useState)({width:0,height:0}),j=Object(E.a)(v,2),x=j[0],k=j[1],w=Object(r.useState)({id:null,flag:!1}),P=Object(E.a)(w,2),D=P[0],C=P[1],S=Ue(),F=Object(r.useCallback)((function(e){return S({type:"SHIFT_SPECTRUM",shiftValue:e.shiftValue})}),[S]),I=Object(r.useCallback)((function(e,t){e.preventDefault(),e.stopPropagation(),S({type:"DELETE_PEAK_NOTATION",data:t})}),[S]);Object(r.useLayoutEffect)((function(){var e=f.current.getBBox();k({width:e.width,height:e.height})}),[b]),Object(r.useEffect)((function(){O(c)}),[c]);var T=Object(r.useCallback)((function(e){if("Enter"===e.key){var n=parseFloat(e.target.value),r=parseFloat(c),a=parseFloat(e.target.value)-parseFloat(c);F({id:t,value:n,oldValue:r,shiftValue:a}),e.target.blur(),m(!1)}else 27===e.keyCode&&(O(c),e.target.blur(),m(!1))}),[t,c,F]),R=Object(r.useCallback)((function(e){O(e.target.value)}),[]),L=Object(r.useCallback)((function(e){return e.preventDefault(),e.stopPropagation(),m(!0),!1}),[]),N=Object(r.useCallback)((function(e){C({id:e,flag:!0})}),[]),A=Object(r.useCallback)((function(){setTimeout((function(){C({id:null,flag:!1})}),200)}),[]);return Object(He.jsx)(a.a.Fragment,null,Object(He.jsx)(He.Global,{styles:fr}),Object(He.jsx)("g",{id:t,transform:"translate(".concat(i,", ").concat(o,")"),onMouseOver:function(){N(t)},onMouseLeave:A},Object(He.jsx)("line",{x1:"0",x2:"0",y1:"-5",y2:-30,stroke:l,strokeWidth:"1"}),Object(He.jsx)("text",{ref:f,x:"0",y:-20,dy:"0.1em",dx:"0.35em",fill:"transparent"},b?c:parseFloat(c).toFixed(s)),Object(He.jsx)("foreignObject",{x:"0",y:"-30",width:x.width+20,height:x.height+30},Object(He.jsx)("div",{style:{width:x.width+20,height:x.height+30,paddingRight:5},xmlns:"http://www.w3.org/1999/xhtml"},Object(He.jsx)("input",{onClick:L,className:b?"notification-input input-over":"notification-input-normal",style:{width:"inherit",border:b?"1px solid ".concat(l):"0",opacity:u?1:.2},value:b?y:parseFloat(y).toFixed(s),onKeyDown:T,onChange:R,type:"number",disabled:!u}),D.id&&!0===D.flag&&Object(He.jsx)("button",{type:"button",onClick:function(e){return I(e,{xIndex:t,id:n})},className:"delete-bt",style:{left:x.width,top:x.height+7}},Object(He.jsx)(Xe.c,null))))))},pr=function(){var e=z(),t=e.getScale,n=e.data,i=e.activeSpectrum,o=e.verticalAlign,c=Object(r.useMemo)((function(){return n&&function(){var e=Object(V.a)(n);return i?e.sort((function(e,t){return e.id===i.id?1:t.id===i.id?-1:0})):e}().filter((function(e){return!0===e.isVisible})).map((function(e){return a.a.createElement("g",{key:"peak-".concat(e.id),transform:"translate(0,".concat((r=e.id,n.findIndex((function(e){return e.id===r}))*o),")")},e.peaks&&e.isPeaksMarkersVisible&&e.peaks.map((function(n,r){var o=n.xIndex;return a.a.createElement(dr,{key:"peak-".concat(e.id,"-").concat(r),x:t(e.id).x(e.x[o]),y:t(e.id).y(e.y[o]),id:o,spectrumID:e.id,value:e.x[o],color:e.color,decimalFraction:ur(e.info.nucleus),isActive:null!=i&&i.id===e.id})})));var r}))}),[n,i,t,o]);return a.a.createElement("g",{className:"peaks",clipPath:"url(#clip)"},c)};var br=a.a.forwardRef((function(){var e=z(),t=e.mode,n=e.width,r=e.height,i=e.margin;return n&&r?a.a.createElement("svg",{width:n,height:r},a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip"},a.a.createElement("rect",{width:"".concat(n-i.left-i.right),height:"".concat(r),x:"".concat(i.left),y:"".concat(0)}))),a.a.createElement(Yn,null),a.a.createElement($n,null),a.a.createElement(pr,null),a.a.createElement("g",{className:"container",style:{pointerEvents:"none"}},a.a.createElement(rr,{showGrid:!0,mode:t}),a.a.createElement(cr,{label:"PPM",show:!1}))):null})),mr=Object(r.createContext)();function hr(e){var t=e.children,n=e.className,i=e.style,o=e.noPropagation,c=Object(r.useState)(null),l=Object(E.a)(c,2),u=l[0],s=l[1],f=Object(r.useCallback)((function(e){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y;s({x:n,y:r}),o&&e.stopPropagation()}),[o]),d=Object(r.useCallback)((function(e){s(null),o&&e.stopPropagation()}),[o]);return a.a.createElement(mr.Provider,{value:u},a.a.createElement("div",{className:n,style:i,onMouseMove:f,onMouseLeave:d},t))}function gr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gr(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Or=Object(r.createContext)(),vr={step:"initial",brush:{start:null,end:null}};function jr(e){var t=e.children,n=e.className,i=e.style,o=e.onBrush,c=e.onZoom,l=e.onDoubleClick,u=e.onClick,s=e.noPropagation,f=Object(r.useReducer)(xr,vr),d=Object(E.a)(f,2),p=d[0],b=d[1],m=Object(r.useState)(1),h=Object(E.a)(m,2),g=h[0],y=h[1],O=Object(r.useState)(),v=Object(E.a)(O,2),j=v[0],x=v[1],k=Object(r.useCallback)((function(e){return s&&e.stopPropagation(),b({type:"DOWN",screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,boundingRect:e.currentTarget.getBoundingClientRect()}),x(e.timeStamp),!1}),[s]),w=Object(r.useCallback)((function(e){if(e.timeStamp-j<=150){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.x,r=e.clientY-t.y;u({x:n,y:r})}}),[j,u]),P=Object(r.useCallback)((function(e){s&&e.stopPropagation(),l(e)}),[s,l]),D=Object(r.useCallback)((function(e){return((e=+e)||1/e)<0}),[]),C=Object(r.useCallback)((function(e){e.stopPropagation(),e.preventDefault();var t=1===e.deltaMode?.1*Math.abs(e.deltaY):e.deltaMode?1:Math.abs(e.deltaY)/100*.1,n=D(e.deltaY)?"up":"down",r=g;c({scale:r="up"===n?g+t:g-t}),y(r)}),[D,c,g]);return Object(r.useEffect)((function(){"end"===p.step&&(o(p),b({type:"DONE"}))}),[o,p]),Object(r.useEffect)((function(){var e=function(e){b({type:"MOVE",screenX:e.screenX,screenY:e.screenY})},t=function(e){return b({type:"UP",screenX:e.screenX,screenY:e.screenY}),!1};return document.addEventListener("mousemove",e),document.addEventListener("mouseup",t),function(){document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",t)}}),[]),a.a.createElement(Or.Provider,{value:p},a.a.createElement("div",{className:n,style:i,onMouseDown:k,onDoubleClick:P,onClick:w,onWheel:C},t))}function xr(e,t){switch(t.type){case"UP":if("brushing"===e.step||"start"===e.step){var n=t.screenX,r=t.screenY;return yr({},e,{endX:e.startX+n-e.startScreenX,endY:e.startY+r-e.startScreenY,step:"start"===e.step?"initial":"end"})}return e;case"DOWN":if("initial"===e.step||"end"===e.step){var a=t.screenX,i=t.screenY,o=t.clientX,c=t.clientY,l=t.boundingRect;return yr({},e,{startX:o-l.x,startY:c-l.y,startScreenX:a,startScreenY:i,step:"start"})}return e;case"MOVE":if("start"===e.step||"brushing"===e.step){var u=t.screenX,s=t.screenY;return yr({},e,{step:"brushing",endX:e.startX+u-e.startScreenX,endY:e.startY+s-e.startScreenY})}return e;case"DONE":if("end"===e.step)return yr({},e,{step:"initial"});break;default:return e}}var Er={line:{stroke:"black",strokeOpacity:"1",shapeRendering:"crispEdges",strokeWidth:"1",willChange:"transform"}},kr=[ye.zoom.id,ye.equalizerTool.id],wr=function(){var e=z(),t=e.height,n=e.width,i=e.margin,o=e.selectedTool,c=Object(r.useContext)(mr),l=Object(r.useContext)(Or);return!kr.includes(o)||"brushing"===l.step||!c||c.y<i.top||c.left<i.left||c.x>n-i.right||c.y>t-i.bottom||!n||!t?null:a.a.createElement("div",{className:"moving-element",key:"crossLine",style:{cursor:"crosshair",transform:"translate(".concat(-n+c.x,"px, ").concat(-t+c.y,"px)"),position:"absolute",top:0,left:0,pointerEvents:"none",overflow:"visible",width:2*n,height:2*t}},a.a.createElement("svg",{width:2*n,height:2*t},a.a.createElement("line",{style:Er.line,x1:n,y1:"0",x2:n,y2:2*t,key:"vertical_line"}),a.a.createElement("line",{style:Er.line,x1:"0",y1:t,x2:2*n,y2:t,key:"horizontal_line"})))};function Pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pr(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cr={container:{transformOrigin:"top left",position:"absolute",top:"0px",left:"0px"}},Sr=[ye.zoom.id,ye.peakPicking.id,ye.integral.id];function Fr(){var e=z(),t=e.width,n=e.height,i=e.selectedTool,o=Object(r.useContext)(Or),c=o.startX,l=o.endX,u=o.step;if(!Sr.includes(i)||"brushing"!==u)return null;var s=(l-c)/t;return a.a.createElement("div",{style:Dr({},Cr.container,{transform:"translate(".concat(c,"px, 0px) scaleX(").concat(s,")")}),className:"moving-element"},a.a.createElement("svg",{width:t,height:n},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:n,strokeWidth:"8",stroke:"red"}),a.a.createElement("line",{x1:t,y1:"0",x2:t,y2:n,strokeWidth:"8",stroke:"red"}),a.a.createElement("rect",{x:"0",y:"0",width:t,height:n,fill:"gray",opacity:"0.2"})))}function Ir(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ir(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ir(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rr={cursor:"crosshair",transformOrigin:"bottom right",position:"absolute",top:"-14px",left:"-26px",pointerEvents:"none",overflow:"visible"},Lr=function(){var e=z(),t=e.height,n=e.width,i=e.margin,o=e.getScale,c=e.data,l=e.activeSpectrum,u=Object(r.useContext)(mr),s=Object(r.useContext)(Or),f=Object(r.useCallback)((function(e){var t=c.find((function(e){return e.id===l.id}));if(t)return o().x.invert(e).toFixed(ur(t.info.nucleus))}),[c,o,l]);return!l||"brushing"===s.step||!u||u.y<i.top||u.left<i.left||u.x>n-i.right||u.y>t-i.bottom?null:a.a.createElement("div",{key:"xLabelPointer",style:Tr({},Rr,{transform:"translate(".concat(u.x,"px, ").concat(u.y,"px)")})},a.a.createElement("span",null,f(u.x)))},Nr=10,Ar="#1f1f1f",Mr=1,_r=0,zr=1,Vr=function(){var e=z(),t=e.height,n=e.width,i=e.margin,o=e.activeSpectrum,c=e.getScale,l=e.data,u=e.mode,s=e.selectedTool,f=Object(r.useContext)(mr),d=Object(r.useContext)(Or),p=Object(r.useState)(),b=Object(E.a)(p,2),m=b[0],h=b[1];return Object(r.useEffect)((function(){var e=function(e,t){if(o&&f&&s===ye.peakPicking.id){var n=c(o.id),r=[n.x.invert(t.x-e),n.x.invert(t.x+e)].sort((function(e,t){return e-t})),a=l.find((function(e){return e.id===o.id})),i=a.x.findIndex((function(e){return e>=r[1]}))-1,u=a.x.findIndex((function(e){return e>=r[0]})),d=a.y.slice(u,i);if(d&&d.length>0){var p=Object(Y.a)(d),b=d.findIndex((function(e){return e===p})),m=a.x[u+b];return{x:n.x(m),y:n.y(p),xIndex:u+b}}}return null}(10,f);h(e)}),[o,l,c,u,f,s]),s!==ye.peakPicking.id||!m||!o||"brushing"===d.step||!f||f.y<i.top||f.left<i.left||f.x>n-i.right||f.y>t-i.bottom?null:a.a.createElement("div",{key:"peakPointer",style:{cursor:"crosshair",transform:"translate(".concat(m.x,"px, ").concat(m.y,"px)"),transformOrigin:"top left",position:"absolute",top:-(Nr+zr),left:-(Nr+zr),pointerEvents:"none",overflow:"visible"}},a.a.createElement("svg",{width:2*Nr+2*zr,height:2*Nr+2*zr},a.a.createElement("circle",{cx:Nr+zr,cy:Nr+zr,r:Nr,stroke:Ar,strokeWidth:Mr,fillOpacity:_r}),a.a.createElement("line",{x1:Nr+zr,y1:zr,x2:Nr+zr,y2:2*Nr+zr,stroke:Ar,strokeWidth:Mr}),a.a.createElement("line",{x1:zr,y1:Nr+zr,x2:2*Nr+zr,y2:Nr+zr,stroke:Ar,strokeWidth:Mr})))};function Ur(){var e=Object(Be.a)(["\n      position: relative;\n      padding: 5px;\n      border: 0.55px solid #cacaca;\n      font-size: 14px;\n      width: ","px;\n      margin: 0;\n      height: 100%;\n      background: url(../img/br_down.png) no-repeat right white;\n      -webkit-appearance: none;\n      background-position-x: ","px;\n      background-size: 10px 10px;\n      border-radius: 5px;\n      margin: 0px 5px;\n      :focus,\n      input:focus {\n        outline: none;\n      }\n    "]);return Ur=function(){return e},e}var Br=a.a.forwardRef((function(e,t){var n=e.data,a=e.style,i=e.onChange,o=e.defaultValue,c=Object(r.useCallback)((function(e){i(e.target.value)}),[i]),l=Object(He.css)(Ur(),a.width?a.width-5:115,a.width?a.width-18:97);return Object(He.jsx)("select",{css:l,ref:t,onChange:c,defaultValue:o},n.map((function(e){return Object(He.jsx)("option",{key:"".concat(e.key),value:e.value},e.label)})))}));Br.defaultProps={onChange:function(){return null},ref:null};var Yr=Br,Xr={container:{padding:"5px",height:"100%",display:"flex"},input:{height:"100%",width:"50px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px 0px 5px",textAlign:"center"},applyButton:{height:"100%",width:"50px",borderRadius:"5px",border:"0.55px solid #c7c7c7"},label:{lineHeight:2}};function Hr(e){return e>=1048576?"".concat(e/1048576,"M"):e>=1024?"".concat(e/1024,"K"):e}var Gr=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:21,n=[],r=e;r<=t;r++){var a=Math.pow(2,r);n.push({key:a,label:Hr(a),value:a})}return n}(),Wr=function(){var e=Ue(),t=z(),n=t.data,i=t.activeSpectrum,o=Object(r.useRef)(),c=Object(r.useState)(1),l=Object(E.a)(c,2),u=l[0],s=l[1],f=Object(r.useCallback)((function(){e({type:"APPLY_ZERO_FILLING_FILTER",value:{zeroFillingSize:Number(o.current.value),lineBroadeningValue:u}})}),[e,u]),d=Object(r.useCallback)((function(){if(n&&i){var e=n.find((function(e){return e.id===i.id}));return Math.pow(2,Math.round(Math.log2(e.x.length)))}return""}),[i,n]),p=Object(r.useCallback)((function(e){if(e.target){var t=e.target.validity.valid?Number(e.target.value):u;s(t)}}),[u]);return a.a.createElement("div",{style:Xr.container},a.a.createElement("span",{style:Xr.label},"Size: "),a.a.createElement(Yr,{ref:o,data:Gr,style:{marginLeft:10,marginRight:10},defaultValue:d()}),a.a.createElement("span",{style:Xr.label},"Line Broadening: "),a.a.createElement("input",{name:"line-broadening",style:Xr.input,type:"number",value:u,onInput:p,pattern:"^\\d*(\\.\\d{0,2})?$",step:"any"}),a.a.createElement("button",{type:"button",style:Xr.applyButton,onClick:f},"Apply"))};function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var qr={container:{padding:"5px",height:"100%",display:"flex"},input:{height:"100%",width:"50px",borderRadius:"5px",border:"0.55px solid #c7c7c7",margin:"0px 5px 0px 5px",textAlign:"center"},applyButton:{height:"100%",width:"50px",borderRadius:"5px",border:"0.55px solid #c7c7c7"},label:{lineHeight:2}},Zr=function(){var e=Ue(),t=Object(r.useState)({ph0:0,ph1:0}),n=Object(E.a)(t,2),i=n[0],o=n[1],c=Object(r.useCallback)((function(){e({type:"APPLY_MANUAL_PHASE_CORRECTION_FILTER",value:i})}),[e,i]),l=Object(r.useCallback)((function(e){if(e.target){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},i,Object(F.a)({},e.target.name,e.target.validity.valid?Number(e.target.value):i[e.target.name]));o(t)}}),[i]),u=Object(r.useCallback)((function(t){e({type:"CALCULATE_MANUAL_PHASE_CORRECTION_FILTER",value:i})}),[e,i]);return a.a.createElement("div",{style:qr.container},a.a.createElement("span",{style:qr.label},"PH0: "),a.a.createElement("input",{name:"ph0",style:qr.input,type:"number",value:i.ph0,onInput:l,onChange:u,pattern:"^\\d*(\\.\\d{0,10})?$",step:"0.001"}),a.a.createElement("span",{style:qr.label},"PH1: "),a.a.createElement("input",{name:"ph1",style:qr.input,type:"number",value:i.ph1,onInput:l,onChange:u,pattern:"^\\d*(\\.\\d{0,2})?$",step:"0.001"}),a.a.createElement("button",{type:"button",style:qr.applyButton,onClick:c},"Apply"))};function $r(){var e=Object(Be.a)(["\n  display: flex;\n  align-items: flex-start;\n  justify-content: flex-start;\n  height: 36px;\n  border-width: 1px 1px 0px 1px;\n  border-style: solid;\n  border-color: rgb(213, 213, 213);\n  outline: none;\n  transition: background-color 0.2s ease-in 0s;\n  box-shadow: rgb(255, 255, 255) 0px 1px 0px 0px inset;\n  background: linear-gradient(rgb(255, 255, 255) 5%, rgb(246, 246, 246) 100%)\n    rgb(255, 255, 255);\n  color: rgb(102, 102, 102);\n  font-family: Arial;\n  font-weight: bold;\n  text-decoration: none;\n  text-shadow: rgb(255, 255, 255) 0px 1px 0px;\n\n  .toolOptionsPanel {\n    flex: 10;\n    padding: 0px;\n    margin: 0px;\n    height: 100%;\n  }\n\n  .windowButtonsContainer {\n    flex: 0.5;\n    display: flex;\n    align-items: flex-end;\n    justify-content: flex-end;\n  }\n\n  .windowButton {\n    width: 40px !important;\n    min-width: 40px !important;\n    background-color: transparent;\n    border: none;\n  }\n"]);return $r=function(){return e},e}var Kr=Object(He.css)($r()),Qr=function(e){var t=e.isFullscreen,n=e.onMaximize,a=z().selectedFilter,i=Object(r.useMemo)((function(){return a===$.zeroFilling.name?Object(He.jsx)(Wr,null):a===$.phaseCorrection.name?Object(He.jsx)(Zr,null):void 0}),[a]);return Object(He.jsx)("div",{css:Kr},Object(He.jsx)("div",{className:"toolOptionsPanel"},i),Object(He.jsx)("div",{className:"windowButtonsContainer"},t?"":Object(He.jsx)("button",{type:"button",onClick:n,className:"windowButton"},Object(He.jsx)(Xe.i,null))))};Qr.defaultProps={onMaximize:function(){return null}};var ea=Qr;function ta(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ta(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ta(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ra={transformOrigin:"top left",position:"absolute",top:"0px",left:"0px",width:1,backgroundColor:"red"},aa=function(){var e=z(),t=e.height,n=e.selectedTool,r=e.verticalIndicatorPosition;return ye.equalizerTool.id!==n?null:a.a.createElement("div",{style:na({},ra,{transform:"translate(".concat(r,"px, 0px)"),height:t})})};function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(n,!0).forEach((function(t){Object(F.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ca=function(e){var t=e.data,n=e.height,i=e.width,o=Object(r.useRef)(),c=Object(T.a)(!1),l=Object(E.a)(c,2),u=l[0],s=l[1],f=Object(R.a)(o,u,{onClose:function(){s(!1)}});Object(r.useEffect)((function(){f?setTimeout((function(){O({type:je,height:window.innerHeight-40})}),100):O({type:je,height:n})}),[n,f]);var d=Object(r.useState)(!1),p=Object(E.a)(d,2),b=p[0],m=p[1],h=Object(r.useReducer)(_e,Me),g=Object(E.a)(h,2),y=g[0],O=g[1],v=y.data,j=y.xDomain,x=y.yDomain,k=y.width,w=y.height,P=y.activeSpectrum,D=y.yDomains,C=y.mode,S=y.margin;Object(r.useEffect)((function(){t&&O({type:"INITIATE",data:{AnalysisObj:t}})}),[t]);var F=Object(r.useMemo)((function(){return function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n="RTL"===C?[k-S.right,S.left]:[S.left,k-S.right],r=I.e(j,n);if(null==t)e=I.e(x,[w-S.bottom,S.top]);else if(null==P||P.id!==t){var a=v.findIndex((function(e){return e.id===t}));e=I.e(D[a],[w-S.bottom,S.top])}else{var i=v.findIndex((function(e){return e.id===P.id}));e=I.e(D[i],[w-S.bottom,S.top])}return{x:r,y:e}}}),[P,v,C,k,j,x,D,w,S]),L=Object(r.useCallback)((function(e){m(!1),O({type:"SET_WIDTH",width:e})}),[]);return a.a.createElement(Ve,{value:O},a.a.createElement(_,{value:oa({height:n,width:i},y,{getScale:F,isResizeEventStart:b})},a.a.createElement("div",{ref:o,style:{backgroundColor:"white"}},a.a.createElement(ea,{isFullscreen:f,onMaximize:s}),a.a.createElement(Ke,null,a.a.createElement(wt,null),a.a.createElement(A.a,{paneStyle:{overflow:"hidden"},className:"split-container",split:"vertical",defaultSize:"80%",minSize:"80%",onDragFinished:L,onDragStarted:function(){m(!0)}},a.a.createElement(la,{tools:!b}),a.a.createElement(Mn,null))))))};function la(){var e=z(),t=e.selectedTool,n=e.height,i=Ue(),o=Object(r.useCallback)((function(e){switch(t){case ye.zoom.id:i(oa({type:ke},e));break;case ye.integral.id:i(oa({type:xe},e));break;case ye.peakPicking.id:i(oa({type:ve},e));break;default:return}}),[i,t]),c=Object(r.useCallback)((function(e){i({type:we})}),[i]),l=Object(r.useCallback)((function(e){switch(t){case ye.zoom.id:i({type:Ee,zoomFactor:e});break;case ye.integral.id:i({type:Pe,zoomFactor:e});break;default:return}}),[i,t]),u=Object(r.useCallback)((function(e){t===ye.peakPicking.id?i({type:Oe,mouseCoordinates:e}):t===ye.equalizerTool.id&&i({type:De,position:e.x})}),[i,t]),s=Object(L.a)((function(){return a.a.createElement(jr,{onBrush:o,onDoubleClick:c,onClick:u,onZoom:l,style:{width:"100%",height:"".concat(n,"px"),margin:"auto",position:"relative",overflow:"hidden"}},a.a.createElement(hr,{style:{width:"100%",height:"".concat(n,"px")}},a.a.createElement(br,null),a.a.createElement(wr,null),a.a.createElement(Fr,null),a.a.createElement(Lr,null),a.a.createElement(Vr,null),a.a.createElement(aa,null)))}),[n]),f=Object(E.a)(s,2),d=f[0],p=f[1],b=p.width,m=p.height,h=Object(r.useState)(),g=Object(E.a)(h,2),y=g[0],O=g[1];return Object(N.a)((function(){return O({width:b,height:m})}),400,[b,m]),Object(r.useEffect)((function(){y&&i(oa({type:je},y))}),[i,y]),d}ca.defaultProps={height:"400",width:"800"};var ua=ca;function sa(){return new Promise((function(e,t){fetch("/json-files/13CFID.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e)}))}))}var fa=function(){var e=Object(r.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){sa().then((function(e){i(e)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"13C Spectrum")),a.a.createElement(C.a,null,a.a.createElement(ua,{data:n})))))))};function da(){return new Promise((function(e,t){fetch("/json-files/1HSpectrum.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e)}))}))}var pa=function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){da().then((function(e){i(e)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"1H spectrum test")),a.a.createElement(C.a,null,a.a.createElement(ua,{data:n})))))))},ba=n(45),ma=n.n(ba);function ha(){return new Promise((function(e,t){fetch("/json-files/XTC.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e),console.error(e)}))}))}function ga(){return new Promise((function(e,t){fetch("/json-files/CoupledDecoupled13C.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e)}))}))}function ya(){return new Promise((function(e,t){fetch("/json-files/Big13C.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e)}))}))}function Oa(){return new Promise((function(e,t){fetch("/json-files/Coffe.json").then((function(e){return function(e){if(!e.ok)throw new Error("HTTP ".concat(e.status," - ").concat(e.statusText));return e}(e)&&e.json()})).then((function(t){ge.build(t).then((function(t){e(t)}))})).catch((function(e){t(e)}))}))}var va,ja=[{path:"/Spectrum1H",name:"1H Spectrum",icon:"design-2_ruler-pencil",component:pa,layout:"/admin"},{path:"/Fid13C",name:"13C FID",icon:"design-2_ruler-pencil",component:fa,layout:"/admin"},{path:"/Big13CCytisin",name:"Big 13c",icon:"design-2_ruler-pencil",component:function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){ya().then((function(e){i(e)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"Big 13C")),a.a.createElement(C.a,null,a.a.createElement(ua,{data:n})))))))},layout:"/admin"},{path:"/XTC814d",name:"XTC",icon:"design-2_ruler-pencil",component:function(){var e=Object(r.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(!0),c=Object(E.a)(o,2),l=c[0],u=c[1];return Object(r.useEffect)((function(){u(!0),ha().then((function(e){i(e),u(!1)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"XTC ")),a.a.createElement(C.a,null,a.a.createElement(ma.a,{css:{position:"absolute",left:320,top:275},sizeUnit:"px",size:30,color:"#2ca8ff",loading:l}),a.a.createElement(ua,{data:n,stackedMode:!0})))))))},layout:"/admin"},{path:"/CoffeView",name:"Coffee",icon:"design-2_ruler-pencil",component:function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(!0),c=Object(E.a)(o,2),l=c[0],u=c[1];return Object(r.useEffect)((function(){u(!0),Oa().then((function(e){i(e),u(!1)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"Coffee ")),a.a.createElement(C.a,null,a.a.createElement(ma.a,{css:{position:"absolute",left:350,top:275},sizeUnit:"px",size:30,color:"#2ca8ff",loading:l}),a.a.createElement(ua,{data:n,stackedMode:!0})))))))},layout:"/admin"},{path:"/CoupledDecoupled13C",name:"13C coupled / decoupled spectra",icon:"design-2_ruler-pencil",component:function(){var e=Object(r.useState)(null),t=Object(E.a)(e,2),n=t[0],i=t[1],o=Object(r.useState)(!0),c=Object(E.a)(o,2),l=c[0],u=c[1];return Object(r.useEffect)((function(){u(!0),ga().then((function(e){i(e),u(!1)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"XTC ")),a.a.createElement(C.a,null,a.a.createElement(ma.a,{css:{position:"absolute",left:350,top:275},sizeUnit:"px",size:30,color:"#2ca8ff",loading:l}),a.a.createElement(ua,{data:n})))))))},layout:"/admin"},{path:"/BlankSpectrumDisplayer",name:"Blank Spectrum Displayer",icon:"design-2_ruler-pencil",component:function(){var e=Object(r.useState)(),t=Object(E.a)(e,2),n=t[0],i=t[1];return Object(r.useEffect)((function(){ge.build(n).then((function(e){i(e)}))}),[]),a.a.createElement(a.a.Fragment,null,a.a.createElement(S,{size:"sm"}),a.a.createElement("div",{className:"content"},a.a.createElement(k.a,null,a.a.createElement(w.a,{md:12},a.a.createElement(P.a,null,a.a.createElement(D.a,null,a.a.createElement("h5",{className:"title"},"NMR Displayer"),a.a.createElement("p",{className:"category"},"1H spectrum test")),a.a.createElement(C.a,null,a.a.createElement(ua,{data:n})))))))},layout:"/admin"}],xa=function(e){function t(){var e,n;Object(s.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={backgroundColor:"blue"},n.mainPanel=a.a.createRef(),n.handleColorClick=function(e){n.setState({backgroundColor:e})},n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){navigator.platform.indexOf("Win")>-1&&(va=new m.a(this.mainPanel.current),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentWillUnmount",value:function(){navigator.platform.indexOf("Win")>-1&&(va.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}},{key:"componentDidUpdate",value:function(e){"PUSH"===e.history.action&&(this.mainPanel.current.scrollTop=0,document.scrollingElement.scrollTop=0)}},{key:"render",value:function(){return a.a.createElement("div",{className:"wrapper"},a.a.createElement(x,Object.assign({},this.props,{routes:ja,backgroundColor:this.state.backgroundColor})),a.a.createElement("div",{className:"main-panel",ref:this.mainPanel},a.a.createElement(l.d,null,ja.map((function(e,t){return a.a.createElement(l.b,{path:e.layout+e.path,render:function(t){return a.a.createElement(e.component,Object.assign({},t,e))},key:t})})),a.a.createElement(l.a,{from:"/admin",to:"/admin/Spectrum1H"}))))}}]),t}(a.a.Component),Ea=Object(c.a)();o.a.render(a.a.createElement(l.c,{history:Ea},a.a.createElement(l.d,null,a.a.createElement(l.b,{path:"/admin",render:function(e){return a.a.createElement(xa,e)}}),a.a.createElement(l.a,{to:"/admin/dashboard"}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[160,1,2]]]);
//# sourceMappingURL=main.ce7c918e.chunk.js.map